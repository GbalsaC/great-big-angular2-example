webpackJsonp([1,9],{1e3:function(t,e){},1001:function(t,e,n){"use strict";var o=n(21),r=(n.n(o),n(0)),i=n(126);n.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t){this.http=t,this.API_PATH="https://www.googleapis.com/books/v1/volumes"}return t.prototype.searchBooks=function(t){return this.http.get(this.API_PATH+"?q="+t).map(function(t){return t.json().items})},t.prototype.retrieveBook=function(t){return this.http.get(this.API_PATH+"/"+t).map(function(t){return t.json()})},t=c([n.i(r.Injectable)(),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},1002:function(t,e,n){"use strict";function o(t){return 0===t?new a.EmptyObservable:this.lift(new f(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(11),c=n(1003),a=n(100);e.take=o;var f=function(){function t(t){if(this.total=t,this.total<0)throw new c.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e._subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.total;++this.count<=e&&(this.destination.next(t),this.count===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},1003:function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.ArgumentOutOfRangeError=o},1004:function(t,e,n){"use strict";var o=n(999),r=(n.n(o),n(275)),i=(n.n(r),n(511)),c=(n.n(i),n(21)),a=(n.n(c),n(172)),f=(n.n(a),n(274)),u=(n.n(f),n(35)),s=(n.n(u),n(0)),p=n(44),l=n(99),d=n(64),b=(n.n(d),n(1001)),h=n(171),y=n(276);n.d(e,"a",function(){return v});var m=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},g=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(){function t(t,e,n){this.store=t,this.googleBooks=e,this.router=n}return t.prototype.waitForCollectionToLoad=function(){return this.store.let(h.g).filter(function(t){return t}).take(1)},t.prototype.hasBookInStore=function(t){return this.store.let(h.h).map(function(e){return!!e[t]}).take(1)},t.prototype.hasBookInApi=function(t){var e=this;return this.googleBooks.retrieveBook(t).map(function(t){return new y.b(t)}).do(function(t){return e.store.dispatch(t)}).map(function(t){return!!t}).catch(function(){return e.router.navigate(["/404"]),n.i(d.of)(!1)})},t.prototype.hasBook=function(t){var e=this;return this.hasBookInStore(t).switchMap(function(o){return o?n.i(d.of)(o):e.hasBookInApi(t)})},t.prototype.canActivate=function(t){var e=this;return this.waitForCollectionToLoad().switchMap(function(){return e.hasBook(t.params.id)})},t=m([n.i(s.Injectable)(),g("design:paramtypes",["function"==typeof(e="undefined"!=typeof p.b&&p.b)&&e||Object,"function"==typeof(o="undefined"!=typeof b.a&&b.a)&&o||Object,"function"==typeof(r="undefined"!=typeof l.b&&l.b)&&r||Object])],t);var e,o,r}()},1005:function(t,e,n){"use strict";var o=n(35),r=(n.n(o),n(0)),i=n(44),c=n(171);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.books$=t.let(c.i)}return t=a([n.i(r.Component)({selector:"bc-collection-page",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'\n    <md-card>\n      <md-card-title>My Collection</md-card-title>\n    </md-card>\n\n    <bc-book-preview-list [books]="books$ | async"></bc-book-preview-list>\n  ',styles:["\n    md-card-title {\n      display: flex;\n      justify-content: center;\n    }\n  "]}),f("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},1006:function(t,e,n){"use strict";var o=n(35),r=(n.n(o),n(999)),i=(n.n(r),n(0)),c=n(44),a=n(171),f=n(276);n.d(e,"a",function(){return p});var u=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t){this.store=t,this.searchQuery$=t.let(a.j).take(1),this.books$=t.let(a.k),this.loading$=t.let(a.f)}return t.prototype.search=function(t){this.store.dispatch(new f.c(t))},t=u([n.i(i.Component)({selector:"bc-find-book-page",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n    <bc-book-search [query]="searchQuery$ | async" [searching]="loading$ | async" (search)="search($event)"></bc-book-search>\n    <bc-book-preview-list [books]="books$ | async"></bc-book-preview-list>\n  '}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof c.b&&c.b)&&e||Object])],t);var e}()},1007:function(t,e,n){"use strict";var o=n(24),r=(n.n(o),n(21)),i=(n.n(r),n(0)),c=n(99),a=n(44),f=n(276);n.d(e,"a",function(){return p});var u=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e){this.store=t,this.actionsSubscription=e.params.select("id").map(function(t){return new f.d(t)}).subscribe(t)}return t.prototype.ngOnDestroy=function(){this.actionsSubscription.unsubscribe()},t=u([n.i(i.Component)({selector:"bc-view-book-page",changeDetection:i.ChangeDetectionStrategy.OnPush,template:"\n    <bc-selected-book-page></bc-selected-book-page>\n  "}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.b&&a.b)&&e||Object,"function"==typeof(o="undefined"!=typeof c.d&&c.d)&&o||Object])],t);var e,o}()},1018:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.transform=function(t){if(!t)return"";switch(t.length){case 1:return t[0];case 2:return t.join(" and ");default:var e=t[t.length-1],n=t.slice(0,-1);return n.join(", ")+", and "+e}},t=r([n.i(o.Pipe)({name:"bcAddCommas"}),i("design:paramtypes",[])],t)}()},1019:function(t,e,n){"use strict";var o=n(0),r=n(1e3);n.n(r);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return Object.defineProperty(t.prototype,"authors",{get:function(){return this.book.volumeInfo.authors},enumerable:!0,configurable:!0}),i([n.i(o.Input)(),c("design:type","function"==typeof(e="undefined"!=typeof r.Book&&r.Book)&&e||Object)],t.prototype,"book",void 0),t=i([n.i(o.Component)({selector:"bc-book-authors",template:"\n    <h5 md-subheader>Written By:</h5>\n    <span>\n      {{ authors | bcAddCommas }}\n    </span>\n  ",styles:["\n    h5 {\n      margin-bottom: 5px;\n    }\n  "]}),c("design:paramtypes",[])],t);var e}()},1020:function(t,e,n){"use strict";var o=n(0),r=n(1e3);n.n(r);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.add=new o.EventEmitter,this.remove=new o.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail",{get:function(){return this.book.volumeInfo.imageLinks.smallThumbnail},enumerable:!0,configurable:!0}),i([n.i(o.Input)(),c("design:type","function"==typeof(e="undefined"!=typeof r.Book&&r.Book)&&e||Object)],t.prototype,"book",void 0),i([n.i(o.Input)(),c("design:type",Boolean)],t.prototype,"inCollection",void 0),i([n.i(o.Output)(),c("design:type",Object)],t.prototype,"add",void 0),i([n.i(o.Output)(),c("design:type",Object)],t.prototype,"remove",void 0),t=i([n.i(o.Component)({selector:"bc-book-detail",template:'\n    <md-card *ngIf="book">\n      <md-card-title-group>\n        <md-card-title>{{ title }}</md-card-title>\n        <md-card-subtitle *ngIf="subtitle">{{ subtitle }}</md-card-subtitle>\n        <img md-card-sm-image *ngIf="thumbnail" [src]="thumbnail"/>\n      </md-card-title-group>\n      <md-card-content>\n        <p [innerHtml]="description"></p>\n      </md-card-content>\n      <md-card-footer class="footer">\n        <bc-book-authors [book]="book"></bc-book-authors>\n      </md-card-footer>\n      <md-card-actions align="end">\n        <button md-raised-button color="warn" *ngIf="inCollection" (click)="remove.emit(book)">\n        Remove Book from Collection\n        </button>\n\n        <button md-raised-button color="primary" *ngIf="!inCollection" (click)="add.emit(book)">\n        Add Book to Collection\n        </button>\n      </md-card-actions>\n    </md-card>\n\n  ',styles:["\n    :host {\n      display: flex;\n      justify-content: center;\n      margin: 75px 0;\n    }\n    md-card {\n      max-width: 600px;\n    }\n    md-card-title {\n      margin-left: 10px;\n    }\n    img {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content {\n      margin-top: 15px;\n      margin-bottom: 125px;\n    }\n    md-card-actions {\n      margin-bottom: 0 !important;\n      margin-right: 0;\n    }\n    md-card-footer {\n      padding: 0 25px 25px;\n    }\n  "]}),c("design:paramtypes",[])],t);var e}()},1021:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return r([n.i(o.Input)(),i("design:type",Array)],t.prototype,"books",void 0),t=r([n.i(o.Component)({selector:"bc-book-preview-list",template:'\n    <bc-book-preview *ngFor="let book of books" [book]="book"></bc-book-preview>\n  ',styles:["\n    :host {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n    }\n  "]}),i("design:paramtypes",[])],t)}()},1022:function(t,e,n){"use strict";var o=n(0),r=n(1e3);n.n(r);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return Object.defineProperty(t.prototype,"id",{get:function(){return this.book.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.book.volumeInfo.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){return this.book.volumeInfo.subtitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.book.volumeInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail",{get:function(){return!!this.book.volumeInfo.imageLinks&&this.book.volumeInfo.imageLinks.smallThumbnail},enumerable:!0,configurable:!0}),i([n.i(o.Input)(),c("design:type","function"==typeof(e="undefined"!=typeof r.Book&&r.Book)&&e||Object)],t.prototype,"book",void 0),t=i([n.i(o.Component)({selector:"bc-book-preview",template:'\n    <a [routerLink]="[\'/books/book\', id]">\n      <md-card>\n        <md-card-title-group>\n          <img md-card-sm-image *ngIf="thumbnail" [src]="thumbnail"/>\n          <md-card-title>{{ title }}</md-card-title>\n          <md-card-subtitle *ngIf="subtitle">{{ subtitle }}</md-card-subtitle>\n        </md-card-title-group>\n        <md-card-content>\n          <p *ngIf="description">{{ description | bcEllipsis }}</p>\n        </md-card-content>\n        <md-card-footer>\n          <bc-book-authors [book]="book"></bc-book-authors>\n        </md-card-footer>\n      </md-card>\n    </a>\n  ',styles:["\n    md-card {\n      width: 400px;\n      height: 300px;\n      margin: 15px;\n    }\n    md-card-title {\n      margin-right: 10px;\n    }\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n    img {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content {\n      margin-top: 15px;\n    }\n    span {\n      display: inline-block;\n      font-size: 13px;\n    }\n    md-card-footer {\n      padding: 0 25px 25px;\n    }\n  "]}),c("design:paramtypes",[])],t);var e}()},1023:function(t,e,n){"use strict";var o=n(504),r=(n.n(o),n(21)),i=(n.n(r),n(510)),c=(n.n(i),n(0));n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(){this.query="",this.searching=!1,this.search=new c.EventEmitter}return a([n.i(c.Input)(),f("design:type",String)],t.prototype,"query",void 0),a([n.i(c.Input)(),f("design:type",Object)],t.prototype,"searching",void 0),a([n.i(c.Output)(),f("design:type",Object)],t.prototype,"search",void 0),t=a([n.i(c.Component)({selector:"bc-book-search",template:'\n    <md-card>\n      <md-card-title>Find a Book</md-card-title>\n      <md-card-content>\n        <md-input placeholder="Search for a book" [value]="query" (keyup)="search.emit($event.target.value)"></md-input>\n        <md-spinner [class.show]="searching"></md-spinner>\n      </md-card-content>\n    </md-card>\n  ',styles:["\n    md-card-title,\n    md-card-content {\n      display: flex;\n      justify-content: center;\n    }\n\n    md-input {\n      width: 300px;\n    }\n\n    md-card-spinner {\n      padding-left: 60px; // Make room for the spinner\n    }\n\n    md-spinner {\n      width: 30px;\n      height: 30px;\n      position: relative;\n      top: 10px;\n      left: 10px;\n      opacity: 0.0;\n    }\n\n    md-spinner.show {\n      opacity: 1.0;\n    }\n  "]}),f("design:paramtypes",[])],t)}()},1024:function(t,e,n){"use strict";var o=n(99),r=n(1004),i=n(1006),c=n(1007),a=n(1005);n.d(e,"a",function(){return u});var f=[{path:"",component:a.a},{path:"book/find",component:i.a},{path:"book/:id",canActivate:[r.a],component:c.a}],u=o.c.forChild(f)},1025:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return c});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t.prototype.transform=function(t){var e=t.replace(/(<([^>]+)>)/gi,"");return t.length>=250?e.slice(0,250)+"...":e},t=r([n.i(o.Pipe)({name:"bcEllipsis"}),i("design:paramtypes",[])],t)}()},1026:function(t,e,n){"use strict";var o=n(0),r=n(44),i=n(171),c=n(277);n.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t){this.store=t,this.book$=t.let(i.l),this.isSelectedBookInCollection$=t.let(i.m)}return t.prototype.addToCollection=function(t){this.store.dispatch(new c.b(t))},t.prototype.removeFromCollection=function(t){this.store.dispatch(new c.c(t))},t=a([n.i(o.Component)({selector:"bc-selected-book-page",changeDetection:o.ChangeDetectionStrategy.OnPush,template:'\n    <bc-book-detail\n      [book]="book$ | async"\n      [inCollection]="isSelectedBookInCollection$ | async"\n      (add)="addToCollection($event)"\n      (remove)="removeFromCollection($event)">\n    </bc-book-detail>\n  '}),f("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.b&&r.b)&&e||Object])],t);var e}()},1028:function(t,e,n){"use strict";var o=n(274),r=(n.n(o),n(21)),i=(n.n(r),n(172)),c=(n.n(i),n(504)),a=(n.n(c),n(1063)),f=(n.n(a),n(1064)),u=(n.n(f),n(0)),s=n(271),p=n(2),l=(n.n(p),n(512)),d=(n.n(l),n(64)),b=(n.n(d),n(1001)),h=n(276);n.d(e,"a",function(){return g});var y=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e){var o=this;this.actions$=t,this.googleBooks=e,this.search$=this.actions$.ofType(h.a.SEARCH).debounceTime(300).map(function(t){return t.payload}).switchMap(function(t){if(""===t)return n.i(l.empty)();var e=o.actions$.ofType(h.a.SEARCH).skip(1);return o.googleBooks.searchBooks(t).takeUntil(e).map(function(t){return new h.e(t)}).catch(function(){return n.i(d.of)(new h.e([]))})})}return y([n.i(s.a)(),m("design:type","function"==typeof(e="undefined"!=typeof p.Observable&&p.Observable)&&e||Object)],t.prototype,"search$",void 0),t=y([n.i(u.Injectable)(),m("design:paramtypes",["function"==typeof(o="undefined"!=typeof s.b&&s.b)&&o||Object,"function"==typeof(r="undefined"!=typeof b.a&&b.a)&&r||Object])],t);var e,o,r}()},1031:function(t,e,n){"use strict";var o=n(21),r=(n.n(o),n(274)),i=(n.n(r),n(273)),c=(n.n(i),n(172)),a=(n.n(c),n(496)),f=(n.n(a),n(497)),u=(n.n(f),n(0)),s=n(271),p=n(505),l=n(2),d=(n.n(l),n(1066)),b=(n.n(d),n(64)),h=(n.n(b),n(277));n.d(e,"a",function(){return g});var y=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e){var o=this;this.actions$=t,this.db=e,this.openDB$=n.i(d.defer)(function(){return o.db.open("books_app")}),this.loadCollection$=this.actions$.ofType(h.a.LOAD).startWith(new h.d).switchMap(function(){return o.db.query("books").toArray().map(function(t){return new h.e(t)}).catch(function(t){return n.i(b.of)(new h.f(t))})}),this.addBookToCollection$=this.actions$.ofType(h.a.ADD_BOOK).map(function(t){return t.payload}).mergeMap(function(t){return o.db.insert("books",[t]).map(function(){return new h.g(t)}).catch(function(){return n.i(b.of)(new h.h(t))})}),this.removeBookFromCollection$=this.actions$.ofType(h.a.REMOVE_BOOK).map(function(t){return t.payload}).mergeMap(function(t){return o.db.executeWrite("books","delete",[t.id]).map(function(){return new h.i(t)}).catch(function(){return n.i(b.of)(new h.j(t))})})}return y([n.i(s.a)({dispatch:!1}),m("design:type","function"==typeof(e="undefined"!=typeof l.Observable&&l.Observable)&&e||Object)],t.prototype,"openDB$",void 0),y([n.i(s.a)(),m("design:type","function"==typeof(o="undefined"!=typeof l.Observable&&l.Observable)&&o||Object)],t.prototype,"loadCollection$",void 0),y([n.i(s.a)(),m("design:type","function"==typeof(r="undefined"!=typeof l.Observable&&l.Observable)&&r||Object)],t.prototype,"addBookToCollection$",void 0),y([n.i(s.a)(),m("design:type","function"==typeof(i="undefined"!=typeof l.Observable&&l.Observable)&&i||Object)],t.prototype,"removeBookFromCollection$",void 0),t=y([n.i(u.Injectable)(),m("design:paramtypes",["function"==typeof(c="undefined"!=typeof s.b&&s.b)&&c||Object,"function"==typeof(a="undefined"!=typeof p.a&&p.a)&&a||Object])],t);var e,o,r,i,c,a}()},1063:function(t,e,n){"use strict";var o=n(2),r=n(513);o.Observable.prototype.skip=r.skip},1064:function(t,e,n){"use strict";var o=n(2),r=n(514);o.Observable.prototype.takeUntil=r.takeUntil},1065:function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),i=n(66),c=n(65),a=function(t){function e(e){t.call(this),this.observableFactory=e}return o(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new f(t,this.observableFactory)},e}(r.Observable);e.DeferObservable=a;var f=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return o(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(i.subscribeToResult(this,t))},e}(c.OuterSubscriber)},1066:function(t,e,n){"use strict";var o=n(1065);e.defer=o.DeferObservable.create},985:function(t,e,n){"use strict";var o=n(20),r=n(175),i=n(0),c=n(19),a=n(99),f=n(271),u=n(1019),s=n(1020),p=n(1022),l=n(1021),d=n(1023),b=n(1018),h=n(1025),y=n(1001),m=n(1004),g=n(1005),v=n(1006),O=n(1026),k=n(1007),j=n(1028),R=n(1031),_=n(173),w=n(1024);n.d(e,"COMPONENTS",function(){return C}),n.d(e,"BooksModule",function(){return I});var P=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=[u.a,s.a,p.a,l.a,d.a,b.a,h.a,g.a,v.a,O.a,k.a],I=function(){function t(){}return t=P([n.i(i.NgModule)({imports:[_.a,w.a,o.b,c.ReactiveFormsModule,r.a,a.c,f.c.run(j.a),f.c.run(R.a)],declarations:C,exports:C,providers:[m.a,y.a]}),x("design:paramtypes",[])],t)}()},999:function(t,e,n){"use strict";var o=n(2),r=n(1002);o.Observable.prototype.take=r.take}});
//# sourceMappingURL=1.48e776a8e7fd68d76259.bundle.map