webpackJsonp([5,9],{1011:function(t,e,n){"use strict";var i=n(0),r=n(99);n.d(e,"a",function(){return c});var o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){this.id=parseInt(this.route.snapshot.params.id,10)},t=o([n.i(i.Component)({template:'\n    <h3 highlight>Crisis Detail</h3>\n    <div>Crisis id: {{id}}</div>\n    <br>\n    <a routerLink="../list">Crisis List</a>\n  '}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.d&&r.d)&&e||Object])],t);var e}()},1012:function(t,e,n){"use strict";var i=n(0),r=n(45),o=n(171);n.d(e,"a",function(){return f});var a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.crises$=this.store.let(o.p)},t=a([n.i(i.Component)({template:"\n    <h3 highlight>Crisis List</h3>\n    <div *ngFor='let crisis of crises$ | async'>\n      <a routerLink=\"{{'../' + crisis.id}}\">{{crisis.id}} - {{crisis.name}}</a>\n    </div>\n  "}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.b&&r.b)&&e||Object])],t);var e}()},1034:function(t,e,n){"use strict";var i=n(0),r=n(45),o=n(271),a=n(2),c=(n.n(a),n(274)),f=(n.n(c),n(503)),s=(n.n(f),n(172)),u=(n.n(s),n(501)),p=(n.n(u),n(502)),d=(n.n(p),n(21)),l=(n.n(d),n(275)),h=(n.n(l),n(999)),y=(n.n(h),n(273)),b=(n.n(y),n(272)),v=n(512);n.d(e,"a",function(){return g});var m=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},O=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n){var i=this;this.store=t,this.dataService=e,this.actions$=n,this.loadData$=this.actions$.ofType(v.a.LOAD).startWith(new v.b).switchMap(function(){return i.dataService.getCrises().mergeMap(function(t){return a.Observable.from(t)}).map(function(t){return new v.c(t)}).catch(function(t){return a.Observable.of(new v.d(t))})}),this.update$=this.actions$.ofType(v.a.UPDATE_CRISIS,v.a.ADD_CRISIS).withLatestFrom(this.store.select("crises")).switchMap(function(t){var e=(t[0],t[1]);return a.Observable.from(e.ids).filter(function(t){return e.entities[t].dirty}).switchMap(function(t){return i.dataService.addOrUpdateCrisis(e.entities[t])}).map(function(t){return new v.e(t)})})}return m([n.i(o.a)(),O("design:type","function"==typeof(e="undefined"!=typeof a.Observable&&a.Observable)&&e||Object)],t.prototype,"loadData$",void 0),m([n.i(o.a)(),O("design:type",Object)],t.prototype,"update$",void 0),t=m([n.i(i.Injectable)(),O("design:paramtypes",["function"==typeof(c="undefined"!=typeof r.b&&r.b)&&c||Object,"function"==typeof(f="undefined"!=typeof b.a&&b.a)&&f||Object,"function"==typeof(s="undefined"!=typeof o.b&&o.b)&&s||Object])],t);var e,c,f,s}()},1040:function(t,e,n){"use strict";var i=n(99),r=n(1012),o=n(1011);n.d(e,"a",function(){return c});var a=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:r.a},{path:":id",component:o.a}],c=i.c.forChild(a)},995:function(t,e,n){"use strict";var i=n(0),r=n(271),o=n(173),a=n(1012),c=n(1011),f=n(1040),s=n(1034),u=n(272);n.d(e,"CrisisModule",function(){return l});var p=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){}return t=p([n.i(i.NgModule)({imports:[o.a,f.a,r.c.run(s.a)],declarations:[c.a,a.a],providers:[u.a]}),d("design:paramtypes",[])],t)}()},999:function(t,e,n){"use strict";var i=n(2),r=n(174);i.Observable.prototype.withLatestFrom=r.withLatestFrom}});
//# sourceMappingURL=5.f7d5df4f5a3f910afcdd.bundle.map