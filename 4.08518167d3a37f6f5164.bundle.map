{"version":3,"sources":["webpack:///4.08518167d3a37f6f5164.chunk.js","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/hero/hero-detail/hero-detail.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/hero/hero-list/hero-list.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.page.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/core/store/hero/hero.effects.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.routing.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.module.ts","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/withLatestFrom.js?50f3*"],"names":["webpackJsonp","1013","module","exports","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__angular_core__","__WEBPACK_IMPORTED_MODULE_1__angular_router__","__WEBPACK_IMPORTED_MODULE_2__ngrx_store__","__WEBPACK_IMPORTED_MODULE_3__core_store__","__WEBPACK_IMPORTED_MODULE_4__core_store_hero_hero_actions__","d","HeroDetailComponent","__decorate","this","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","route","store","prototype","ngOnInit","id","parseInt","snapshot","params","hero$","let","dispatch","template","_a","_b","1014","__WEBPACK_IMPORTED_MODULE_1__ngrx_store__","__WEBPACK_IMPORTED_MODULE_2__core_store__","HeroListComponent","heroes$","changeDetection","OnPush","1015","__WEBPACK_IMPORTED_MODULE_1__core_store___","HeroPage","user$","1034","__WEBPACK_IMPORTED_MODULE_2__ngrx_effects__","__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__","n","__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__","__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_switchMap__","__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_mergeMap__","__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_toArray__","__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_filter__","__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_withLatestFrom__","__WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_startWith__","__WEBPACK_IMPORTED_MODULE_13__data_service__","__WEBPACK_IMPORTED_MODULE_14__hero_actions__","HeroEffects","dataService","action$","_this","load$","ofType","LOAD","startWith","switchMap","getHeroes","mergeMap","fetchedHeros","from","map","fetchedHero","catch","of","update$","UPDATE_HERO","ADD_HERO","withLatestFrom","select","heros","ids","filter","entities","dirty","addOrUpdateHero","responseHero","_c","1043","__WEBPACK_IMPORTED_MODULE_0__angular_router__","__WEBPACK_IMPORTED_MODULE_1__hero_page__","__WEBPACK_IMPORTED_MODULE_2__hero_list_hero_list_component__","__WEBPACK_IMPORTED_MODULE_3__hero_detail_hero_detail_component__","routing","routes","path","component","children","forChild","990","__WEBPACK_IMPORTED_MODULE_1__ngrx_effects__","__WEBPACK_IMPORTED_MODULE_2__shared_shared_module__","__WEBPACK_IMPORTED_MODULE_3__core_store_data_service__","__WEBPACK_IMPORTED_MODULE_4__hero_page__","__WEBPACK_IMPORTED_MODULE_5__hero_detail_hero_detail_component__","__WEBPACK_IMPORTED_MODULE_6__hero_list_hero_list_component__","__WEBPACK_IMPORTED_MODULE_7__hero_routing__","__WEBPACK_IMPORTED_MODULE_8__core_store_hero_hero_effects__","HeroModule","imports","run","declarations","providers","993","Observable_1","withLatestFrom_1","Observable"],"mappings":"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","file":"4.08518167d3a37f6f5164.chunk.js","sourcesContent":["webpackJsonp([4,9],{\n\n/***/ 1013:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_store__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_store_hero_hero_actions__ = __webpack_require__(501);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return HeroDetailComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\nvar HeroDetailComponent = (function () {\n    function HeroDetailComponent(route, store) {\n        this.route = route;\n        this.store = store;\n    }\n    HeroDetailComponent.prototype.ngOnInit = function () {\n        var id = parseInt(this.route.snapshot.params['id'], 10);\n        this.hero$ = this.store.let(__WEBPACK_IMPORTED_MODULE_3__core_store__[\"s\" /* getSelectedHero */]);\n        this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_4__core_store_hero_hero_actions__[\"b\" /* SelectHeroAction */]({ id: id }));\n    };\n    HeroDetailComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            template: \"\\n    <h3 highlight>Hero Detail</h3>\\n    <div *ngIf=\\\"(hero$ | async)\\\" >\\n      <div>Id: {{(hero$ | async).id}}</div><br>\\n      <label>Name:\\n        <input [value]=\\\"(hero$ | async).name\\\">\\n      </label>\\n    </div>\\n    <br>\\n    <a routerLink=\\\"../\\\">Hero List</a>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__[\"d\" /* ActivatedRoute */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__angular_router__[\"d\" /* ActivatedRoute */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */]) === 'function' && _b) || Object])\n    ], HeroDetailComponent);\n    return HeroDetailComponent;\n    var _a, _b;\n}());\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/ \n\n\n/***/ },\n\n/***/ 1014:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_store__ = __webpack_require__(171);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return HeroListComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\nvar HeroListComponent = (function () {\n    function HeroListComponent(store) {\n        this.store = store;\n    }\n    HeroListComponent.prototype.ngOnInit = function () {\n        this.heroes$ = this.store.let(__WEBPACK_IMPORTED_MODULE_2__core_store__[\"t\" /* getHeroes */]);\n    };\n    HeroListComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"ChangeDetectionStrategy\"].OnPush,\n            template: \"\\n    <h3 highlight>Hero List</h3>\\n    <div *ngFor='let hero of heroes$ | async'>\\n      <a routerLink=\\\"{{hero.id}}\\\">{{hero.id}} - {{hero.name}}</a>\\n    </div>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object])\n    ], HeroListComponent);\n    return HeroListComponent;\n    var _a;\n}());\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/ \n\n\n/***/ },\n\n/***/ 1015:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store___ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ngrx_store__ = __webpack_require__(44);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return HeroPage; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\nvar HeroPage = (function () {\n    function HeroPage(store) {\n        this.store = store;\n        this.user$ = this.store.let(__WEBPACK_IMPORTED_MODULE_1__core_store___[\"o\" /* getUser */]);\n    }\n    HeroPage = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            template: \"\\n    <h2>Heroes of {{(user$ | async).fullName()}}</h2>\\n    <router-outlet></router-outlet>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object])\n    ], HeroPage);\n    return HeroPage;\n    var _a;\n}());\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/ \n\n\n/***/ },\n\n/***/ 1034:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ngrx_effects__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__(498);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_switchMap__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_switchMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_mergeMap__ = __webpack_require__(496);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_mergeMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_mergeMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_toArray__ = __webpack_require__(497);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_toArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_toArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_filter__ = __webpack_require__(275);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_filter__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_withLatestFrom__ = __webpack_require__(993);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_withLatestFrom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_withLatestFrom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_startWith__ = __webpack_require__(273);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_startWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_startWith__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__data_service__ = __webpack_require__(272);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__hero_actions__ = __webpack_require__(501);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return HeroEffects; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar HeroEffects = (function () {\n    function HeroEffects(store, dataService, action$) {\n        var _this = this;\n        this.store = store;\n        this.dataService = dataService;\n        this.action$ = action$;\n        this.load$ = this.action$\n            .ofType(__WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"a\" /* ActionTypes */].LOAD)\n            .startWith(new __WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"c\" /* LoadAction */]())\n            .switchMap(function () {\n            return _this.dataService.getHeroes()\n                .mergeMap(function (fetchedHeros) { return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__[\"Observable\"].from(fetchedHeros); })\n                .map(function (fetchedHero) { return new __WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"d\" /* LoadSuccessAction */](fetchedHero); }) // one action per hero\n                .catch(function () { return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__[\"Observable\"].of(new __WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"e\" /* UpdateHeroFailAction */]()); });\n        });\n        this.update$ = this.action$\n            .ofType(__WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"a\" /* ActionTypes */].UPDATE_HERO, __WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"a\" /* ActionTypes */].ADD_HERO)\n            .withLatestFrom(this.store.select('heros'))\n            .switchMap(function (_a) {\n            var _b = _a[0], heros = _a[1];\n            return __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__[\"Observable\"] // first element is action, but it isn't used\n                .from(heros.ids)\n                .filter(function (id) { return heros.entities[id].dirty; })\n                .switchMap(function (id) { return _this.dataService.addOrUpdateHero(heros.entities[id]); })\n                .map(function (responseHero) { return new __WEBPACK_IMPORTED_MODULE_14__hero_actions__[\"f\" /* UpdateHeroSuccessAction */](responseHero); });\n        });\n    }\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', Object)\n    ], HeroEffects.prototype, \"load$\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', Object)\n    ], HeroEffects.prototype, \"update$\", void 0);\n    HeroEffects = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_13__data_service__[\"a\" /* DataService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_13__data_service__[\"a\" /* DataService */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__ngrx_effects__[\"b\" /* Actions */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__ngrx_effects__[\"b\" /* Actions */]) === 'function' && _c) || Object])\n    ], HeroEffects);\n    return HeroEffects;\n    var _a, _b, _c;\n}());\n\n\n/***/ },\n\n/***/ 1043:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__hero_page__ = __webpack_require__(1015);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__hero_list_hero_list_component__ = __webpack_require__(1014);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hero_detail_hero_detail_component__ = __webpack_require__(1013);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return routing; });\n\n\n\n\nvar routes = [\n    { path: '',\n        component: __WEBPACK_IMPORTED_MODULE_1__hero_page__[\"a\" /* HeroPage */],\n        children: [\n            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__hero_list_hero_list_component__[\"a\" /* HeroListComponent */] },\n            { path: ':id', component: __WEBPACK_IMPORTED_MODULE_3__hero_detail_hero_detail_component__[\"a\" /* HeroDetailComponent */] }\n        ]\n    }\n];\nvar routing = __WEBPACK_IMPORTED_MODULE_0__angular_router__[\"c\" /* RouterModule */].forChild(routes);\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/ \n\n\n/***/ },\n\n/***/ 990:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ngrx_effects__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__shared_shared_module__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_store_data_service__ = __webpack_require__(272);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hero_page__ = __webpack_require__(1015);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__hero_detail_hero_detail_component__ = __webpack_require__(1013);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__hero_list_hero_list_component__ = __webpack_require__(1014);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__hero_routing__ = __webpack_require__(1043);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__core_store_hero_hero_effects__ = __webpack_require__(1034);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"HeroModule\", function() { return HeroModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\nvar HeroModule = (function () {\n    function HeroModule() {\n    }\n    HeroModule = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"NgModule\"])({\n            imports: [\n                __WEBPACK_IMPORTED_MODULE_2__shared_shared_module__[\"a\" /* SharedModule */],\n                __WEBPACK_IMPORTED_MODULE_7__hero_routing__[\"a\" /* routing */],\n                __WEBPACK_IMPORTED_MODULE_1__ngrx_effects__[\"c\" /* EffectsModule */].run(__WEBPACK_IMPORTED_MODULE_8__core_store_hero_hero_effects__[\"a\" /* HeroEffects */])],\n            declarations: [\n                __WEBPACK_IMPORTED_MODULE_4__hero_page__[\"a\" /* HeroPage */],\n                __WEBPACK_IMPORTED_MODULE_5__hero_detail_hero_detail_component__[\"a\" /* HeroDetailComponent */],\n                __WEBPACK_IMPORTED_MODULE_6__hero_list_hero_list_component__[\"a\" /* HeroListComponent */],\n            ],\n            providers: [\n                __WEBPACK_IMPORTED_MODULE_3__core_store_data_service__[\"a\" /* DataService */]\n            ]\n        }), \n        __metadata('design:paramtypes', [])\n    ], HeroModule);\n    return HeroModule;\n}());\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/ \n\n\n/***/ },\n\n/***/ 993:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar Observable_1 = __webpack_require__(2);\nvar withLatestFrom_1 = __webpack_require__(174);\nObservable_1.Observable.prototype.withLatestFrom = withLatestFrom_1.withLatestFrom;\n//# sourceMappingURL=withLatestFrom.js.map\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 4.08518167d3a37f6f5164.chunk.js","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport { Store } from '@ngrx/store';\n\nimport { Hero } from '../../core/store/hero/hero.model';\nimport * as fromRoot from '../../core/store';\nimport * as hero from '../../core/store/hero/hero.actions';\n\n@Component({\n  template: `\n    <h3 highlight>Hero Detail</h3>\n    <div *ngIf=\"(hero$ | async)\" >\n      <div>Id: {{(hero$ | async).id}}</div><br>\n      <label>Name:\n        <input [value]=\"(hero$ | async).name\">\n      </label>\n    </div>\n    <br>\n    <a routerLink=\"../\">Hero List</a>\n  `\n})\nexport class HeroDetailComponent implements OnInit {\n  hero$: Observable<Hero>;\n\n  constructor(private route: ActivatedRoute,\n    private store: Store<fromRoot.RootState>) { }\n\n  ngOnInit() {\n    let id = parseInt(this.route.snapshot.params['id'], 10);\n    this.hero$ = this.store.let(fromRoot.getSelectedHero);\n    this.store.dispatch(new hero.SelectHeroAction({ id }));\n  }\n}\n\n\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/hero/hero-detail/hero-detail.component.ts","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as fromRoot from '../../core/store';\n\nimport { Hero }    from '../../core/store/hero/hero.model';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <h3 highlight>Hero List</h3>\n    <div *ngFor='let hero of heroes$ | async'>\n      <a routerLink=\"{{hero.id}}\">{{hero.id}} - {{hero.name}}</a>\n    </div>\n  `\n})\n\nexport class HeroListComponent implements OnInit {\n  heroes$: Observable<Hero[]>\n  constructor(private store: Store<fromRoot.RootState>) {}\n\n  ngOnInit() {\n    this.heroes$ = this.store.let(fromRoot.getHeroes);\n  }\n}\n\n\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/hero/hero-list/hero-list.component.ts","// Exact copy except import UserService from core\nimport { Component } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { User } from '../core/store/user/user.model';\nimport * as fromRoot from '../core/store/';\nimport { Store } from '@ngrx/store';\n\n@Component({\n  template: `\n    <h2>Heroes of {{(user$ | async).fullName()}}</h2>\n    <router-outlet></router-outlet>\n  `\n})\nexport class HeroPage {\n  user$: Observable<User>;\n\n  constructor(private store: Store<fromRoot.RootState>) {\n    this.user$ = this.store.let(fromRoot.getUser);\n  }\n}\n\n\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.page.ts","import { Injectable } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Actions, Effect } from '@ngrx/effects';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/toArray';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/withLatestFrom';\nimport 'rxjs/add/operator/startWith';\n\nimport { Hero } from './hero.model';\nimport { DataService } from '../data.service';\nimport * as hero from './hero.actions';\n\n@Injectable()\nexport class HeroEffects {\n  constructor(private store: Store<Hero>,\n    private dataService: DataService,\n    private action$: Actions) {}\n\n@Effect()\nload$ = this.action$\n  .ofType(hero.ActionTypes.LOAD)\n  .startWith(new hero.LoadAction())\n  .switchMap(() =>\n    this.dataService.getHeroes()\n    .mergeMap(fetchedHeros => Observable.from(fetchedHeros))\n    .map((fetchedHero: Hero) => new hero.LoadSuccessAction(fetchedHero))  // one action per hero\n    .catch(() => Observable.of(new hero.UpdateHeroFailAction()))\n);\n\n@Effect()\nupdate$ = this.action$\n.ofType(hero.ActionTypes.UPDATE_HERO,\n        hero.ActionTypes.ADD_HERO)\n.withLatestFrom(this.store.select('heros'))\n.switchMap(([{}, heros]) => \n  Observable   // first element is action, but it isn't used\n    .from(heros.ids)\n    .filter((id: string) => heros.entities[id].dirty)\n    .switchMap((id: string) => this.dataService.addOrUpdateHero(heros.entities[id]))\n    .map((responseHero: Hero) => new hero.UpdateHeroSuccessAction(responseHero))\n);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/core/store/hero/hero.effects.ts","import { ModuleWithProviders } from '@angular/core';\nimport { Routes,\n         RouterModule } from '@angular/router';\n\nimport { HeroPage }       from './hero.page';\nimport { HeroListComponent }   from './hero-list/hero-list.component';\nimport { HeroDetailComponent } from './hero-detail/hero-detail.component';\n\nconst routes: Routes = [\n  { path: '',\n    component: HeroPage,\n    children: [\n      { path: '',    component: HeroListComponent },\n      { path: ':id', component: HeroDetailComponent }\n    ]\n  }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forChild(routes);\n\n\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.routing.ts","import { NgModule }            from '@angular/core';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { SharedModule }        from '../shared/shared.module';\nimport { DataService } from '../core/store/data.service';\nimport { HeroPage }       from './hero.page';\nimport { HeroDetailComponent } from './hero-detail/hero-detail.component';\nimport { HeroListComponent }   from './hero-list/hero-list.component';\nimport { routing }             from './hero.routing';\nimport { HeroEffects } from '../core/store/hero/hero.effects';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    routing,\n    EffectsModule.run(HeroEffects) ],\n  declarations: [\n    HeroPage,\n    HeroDetailComponent,\n    HeroListComponent,\n  ],\n  providers: [\n    DataService\n  ]\n})\nexport class HeroModule { }\n\n\n/*\nCopyright 2016 Google Inc. All Rights Reserved.\nUse of this source code is governed by an MIT-style license that\ncan be found in the LICENSE file at http://angular.io/license\n*/\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/hero/hero.module.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar withLatestFrom_1 = require('../../operator/withLatestFrom');\nObservable_1.Observable.prototype.withLatestFrom = withLatestFrom_1.withLatestFrom;\n//# sourceMappingURL=withLatestFrom.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/withLatestFrom.js\n// module id = 993\n// module chunks = 2 3 4 5"],"sourceRoot":""}