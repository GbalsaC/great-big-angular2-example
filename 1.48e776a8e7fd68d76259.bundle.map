{"version":3,"sources":["webpack:///1.48e776a8e7fd68d76259.chunk.js","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/core/store/book/google-books.service.ts","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/operator/take.js?26f5","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/util/ArgumentOutOfRangeError.js?5a85","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-exists/book-exists.guard.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/collection.page.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/find-book.page.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/view-book.page.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/add-commas/add-commas.pipe.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-authors/book-authors.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-detail/book-detail.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-preview/book-preview-list.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-preview/book-preview.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/book-search/book-search.component.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/books.routing.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/ellipsis/ellipsis.pipe.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/selected-book.page.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/core/store/book/book.effects.ts","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/core/store/collection/collection.effects.ts","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/skip.js","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/takeUntil.js","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/observable/DeferObservable.js","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/observable/defer.js","webpack:////Users/Dan/work/bernierebuttals/gba/src/app/books/books.module.ts","webpack:////Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/take.js?9682"],"names":["webpackJsonp","1000","module","exports","1001","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","n","__WEBPACK_IMPORTED_MODULE_2__angular_http__","d","GoogleBooksService","__decorate","this","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","http","API_PATH","prototype","searchBooks","queryTitle","get","map","res","json","items","retrieveBook","volumeId","_a","1002","take","count","EmptyObservable_1","EmptyObservable","lift","TakeOperator","__extends","b","__","constructor","p","hasOwnProperty","create","Subscriber_1","ArgumentOutOfRangeError_1","total","ArgumentOutOfRangeError","call","subscriber","source","_subscribe","TakeSubscriber","_super","destination","_next","value","next","complete","unsubscribe","Subscriber","1003","err","name","stack","message","Error","1004","__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_take__","__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_filter__","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do__","__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_switchMap__","__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__","__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_let__","__WEBPACK_IMPORTED_MODULE_7__angular_core__","__WEBPACK_IMPORTED_MODULE_8__ngrx_store__","__WEBPACK_IMPORTED_MODULE_9__angular_router__","__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__","__WEBPACK_IMPORTED_MODULE_11__core_store_book_google_books_service__","__WEBPACK_IMPORTED_MODULE_12__core_store__","__WEBPACK_IMPORTED_MODULE_13__core_store_book_book_actions__","BookExistsGuard","store","googleBooks","router","waitForCollectionToLoad","let","filter","loaded","hasBookInStore","id","entities","hasBookInApi","_this","bookEntity","do","action","dispatch","book","catch","navigate","hasBook","switchMap","inStore","canActivate","route","params","_b","_c","1005","__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let__","__WEBPACK_IMPORTED_MODULE_2__ngrx_store__","__WEBPACK_IMPORTED_MODULE_3__core_store__","CollectionPage","books$","selector","changeDetection","OnPush","template","styles","1006","__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_take__","__WEBPACK_IMPORTED_MODULE_2__angular_core__","__WEBPACK_IMPORTED_MODULE_3__ngrx_store__","__WEBPACK_IMPORTED_MODULE_4__core_store__","__WEBPACK_IMPORTED_MODULE_5__core_store_book_book_actions__","FindBookPage","searchQuery$","loading$","search","query","1007","__WEBPACK_IMPORTED_MODULE_0__ngrx_core_add_operator_select__","__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_3__angular_router__","__WEBPACK_IMPORTED_MODULE_4__ngrx_store__","ViewBookPage","actionsSubscription","select","subscribe","ngOnDestroy","1018","__WEBPACK_IMPORTED_MODULE_0__angular_core__","AddCommasPipe","transform","authors","join","last","remaining","slice","1019","__WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__","BookAuthorsComponent","volumeInfo","enumerable","configurable","1020","BookDetailComponent","add","remove","title","subtitle","description","imageLinks","smallThumbnail","Boolean","1021","BookPreviewListComponent","Array","1022","BookPreviewComponent","1023","__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_debounceTime__","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_distinctUntilChanged__","__WEBPACK_IMPORTED_MODULE_3__angular_core__","BookSearchComponent","searching","String","1024","__WEBPACK_IMPORTED_MODULE_0__angular_router__","__WEBPACK_IMPORTED_MODULE_1__book_exists_book_exists_guard__","__WEBPACK_IMPORTED_MODULE_2__find_book_page__","__WEBPACK_IMPORTED_MODULE_3__view_book_page__","__WEBPACK_IMPORTED_MODULE_4__collection_page__","routing","routes","path","component","forChild","1025","EllipsisPipe","str","withoutHtml","replace","1026","__WEBPACK_IMPORTED_MODULE_1__ngrx_store__","__WEBPACK_IMPORTED_MODULE_2__core_store__","__WEBPACK_IMPORTED_MODULE_3__core_store_collection_collection_actions__","SelectedBookPage","book$","isSelectedBookInCollection$","addToCollection","removeFromCollection","1028","__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_catch__","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_switchMap__","__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_debounceTime__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_skip__","__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_takeUntil__","__WEBPACK_IMPORTED_MODULE_6__angular_core__","__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__","__WEBPACK_IMPORTED_MODULE_8_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_9_rxjs_observable_empty__","__WEBPACK_IMPORTED_MODULE_11__google_books_service__","__WEBPACK_IMPORTED_MODULE_12__book_actions__","BookEffects","actions$","search$","ofType","SEARCH","debounceTime","payload","nextSearch$","skip","takeUntil","books","1031","__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__","__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_switchMap__","__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_mergeMap__","__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_toArray__","__WEBPACK_IMPORTED_MODULE_8__ngrx_db__","__WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_defer__","__WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__","__WEBPACK_IMPORTED_MODULE_12__collection_actions__","CollectionEffects","db","openDB$","open","loadCollection$","LOAD","startWith","toArray","error","addBookToCollection$","ADD_BOOK","mergeMap","insert","removeBookFromCollection$","REMOVE_BOOK","executeWrite","_d","_e","_f","1063","Observable_1","skip_1","Observable","1064","takeUntil_1","1065","subscribeToResult_1","OuterSubscriber_1","DeferObservable","observableFactory","DeferSubscriber","factory","tryDefer","_callFactory","_error","result","subscribeToResult","OuterSubscriber","1066","DeferObservable_1","defer","985","__WEBPACK_IMPORTED_MODULE_0__angular_common__","__WEBPACK_IMPORTED_MODULE_1__angular_material__","__WEBPACK_IMPORTED_MODULE_3__angular_forms__","__WEBPACK_IMPORTED_MODULE_4__angular_router__","__WEBPACK_IMPORTED_MODULE_5__ngrx_effects__","__WEBPACK_IMPORTED_MODULE_6__book_authors_book_authors_component__","__WEBPACK_IMPORTED_MODULE_7__book_detail_book_detail_component__","__WEBPACK_IMPORTED_MODULE_8__book_preview_book_preview_component__","__WEBPACK_IMPORTED_MODULE_9__book_preview_book_preview_list_component__","__WEBPACK_IMPORTED_MODULE_10__book_search_book_search_component__","__WEBPACK_IMPORTED_MODULE_11__add_commas_add_commas_pipe__","__WEBPACK_IMPORTED_MODULE_12__ellipsis_ellipsis_pipe__","__WEBPACK_IMPORTED_MODULE_13__core_store_book_google_books_service__","__WEBPACK_IMPORTED_MODULE_14__book_exists_book_exists_guard__","__WEBPACK_IMPORTED_MODULE_15__collection_page__","__WEBPACK_IMPORTED_MODULE_16__find_book_page__","__WEBPACK_IMPORTED_MODULE_17__selected_book_page__","__WEBPACK_IMPORTED_MODULE_18__view_book_page__","__WEBPACK_IMPORTED_MODULE_19__core_store_book_book_effects__","__WEBPACK_IMPORTED_MODULE_20__core_store_collection_collection_effects__","__WEBPACK_IMPORTED_MODULE_21__shared_shared_module__","__WEBPACK_IMPORTED_MODULE_22__books_routing__","COMPONENTS","BooksModule","imports","run","declarations","providers","999","take_1"],"mappings":"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","file":"1.48e776a8e7fd68d76259.chunk.js","sourcesContent":["webpackJsonp([1,9],{\n\n/***/ 1000:\n/***/ function(module, exports) {\n\n\n\n/***/ },\n\n/***/ 1001:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__(126);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return GoogleBooksService; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\nvar GoogleBooksService = (function () {\n    function GoogleBooksService(http) {\n        this.http = http;\n        this.API_PATH = 'https://www.googleapis.com/books/v1/volumes';\n    }\n    GoogleBooksService.prototype.searchBooks = function (queryTitle) {\n        return this.http.get(this.API_PATH + \"?q=\" + queryTitle)\n            .map(function (res) { return res.json().items; });\n    };\n    GoogleBooksService.prototype.retrieveBook = function (volumeId) {\n        return this.http.get(this.API_PATH + \"/\" + volumeId)\n            .map(function (res) { return res.json(); });\n    };\n    GoogleBooksService = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_http__[\"b\" /* Http */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__angular_http__[\"b\" /* Http */]) === 'function' && _a) || Object])\n    ], GoogleBooksService);\n    return GoogleBooksService;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1002:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = __webpack_require__(11);\nvar ArgumentOutOfRangeError_1 = __webpack_require__(1003);\nvar EmptyObservable_1 = __webpack_require__(100);\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nfunction take(count) {\n    if (count === 0) {\n        return new EmptyObservable_1.EmptyObservable();\n    }\n    else {\n        return this.lift(new TakeOperator(count));\n    }\n}\nexports.take = take;\nvar TakeOperator = (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeSubscriber = (function (_super) {\n    __extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        _super.call(this, destination);\n        this.total = total;\n        this.count = 0;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        if (++this.count <= total) {\n            this.destination.next(value);\n            if (this.count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=take.js.map\n\n/***/ },\n\n/***/ 1003:\n/***/ function(module, exports) {\n\n\"use strict\";\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nvar ArgumentOutOfRangeError = (function (_super) {\n    __extends(ArgumentOutOfRangeError, _super);\n    function ArgumentOutOfRangeError() {\n        var err = _super.call(this, 'argument out of range');\n        this.name = err.name = 'ArgumentOutOfRangeError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ArgumentOutOfRangeError;\n}(Error));\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n\n/***/ },\n\n/***/ 1004:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_take__ = __webpack_require__(999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_take___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_take__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_filter__ = __webpack_require__(275);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_filter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_filter__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do__ = __webpack_require__(511);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_switchMap__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_switchMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_let__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_let___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_let__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__core_store_book_google_books_service__ = __webpack_require__(1001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__core_store__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__core_store_book_book_actions__ = __webpack_require__(276);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookExistsGuard; });\n// TODO Decide whether this belongs in the store or the book feature\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Guards are hooks into the route resolution process, providing an opportunity\n * to inform the router's navigation process whether the route should continue\n * to activate this route. Guards must return an observable of true or false.\n */\nvar BookExistsGuard = (function () {\n    function BookExistsGuard(store, googleBooks, router) {\n        this.store = store;\n        this.googleBooks = googleBooks;\n        this.router = router;\n    }\n    /**\n     * This method creates an observable that waits for the `loaded` property\n     * of the collection state to turn `true`, emitting one time once loading\n     * has finished.\n     */\n    BookExistsGuard.prototype.waitForCollectionToLoad = function () {\n        return this.store.let(__WEBPACK_IMPORTED_MODULE_12__core_store__[\"g\" /* getCollectionLoaded */])\n            .filter(function (loaded) { return loaded; })\n            .take(1);\n    };\n    /**\n     * This method checks if a book with the given ID is already registered\n     * in the Store\n     */\n    BookExistsGuard.prototype.hasBookInStore = function (id) {\n        return this.store.let(__WEBPACK_IMPORTED_MODULE_12__core_store__[\"h\" /* getBookEntities */])\n            .map(function (entities) { return !!entities[id]; })\n            .take(1);\n    };\n    /**\n     * This method loads a book with the given ID from the API and caches\n     * it in the store, returning `true` or `false` if it was found.\n     */\n    BookExistsGuard.prototype.hasBookInApi = function (id) {\n        var _this = this;\n        return this.googleBooks.retrieveBook(id)\n            .map(function (bookEntity) { return new __WEBPACK_IMPORTED_MODULE_13__core_store_book_book_actions__[\"b\" /* LoadAction */](bookEntity); })\n            .do(function (action) { return _this.store.dispatch(action); })\n            .map(function (book) { return !!book; })\n            .catch(function () {\n            _this.router.navigate(['/404']);\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__[\"of\"])(false);\n        });\n    };\n    /**\n     * `hasBook` composes `hasBookInStore` and `hasBookInApi`. It first checks\n     * if the book is in store, and if not it then checks if it is in the\n     * API.\n     */\n    BookExistsGuard.prototype.hasBook = function (id) {\n        var _this = this;\n        return this.hasBookInStore(id)\n            .switchMap(function (inStore) {\n            if (inStore) {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__[\"of\"])(inStore);\n            }\n            return _this.hasBookInApi(id);\n        });\n    };\n    /**\n     * This is the actual method the router will call when our guard is run.\n     *\n     * Our guard waits for the collection to load, then it checks if we need\n     * to request a book from the API or if we already have it in our cache.\n     * If it finds it in the cache or in the API, it returns an Observable\n     * of `true` and the route is rendered successfully.\n     *\n     * If it was unable to find it in our cache or in the API, this guard\n     * will return an Observable of `false`, causing the router to move\n     * on to the next candidate route. In this case, it will move on\n     * to the 404 page.\n     */\n    BookExistsGuard.prototype.canActivate = function (route) {\n        var _this = this;\n        return this.waitForCollectionToLoad()\n            .switchMap(function () { return _this.hasBook(route.params['id']); });\n    };\n    BookExistsGuard = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_8__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_8__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_11__core_store_book_google_books_service__[\"a\" /* GoogleBooksService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_11__core_store_book_google_books_service__[\"a\" /* GoogleBooksService */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_9__angular_router__[\"b\" /* Router */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9__angular_router__[\"b\" /* Router */]) === 'function' && _c) || Object])\n    ], BookExistsGuard);\n    return BookExistsGuard;\n    var _a, _b, _c;\n}());\n\n\n/***/ },\n\n/***/ 1005:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_store__ = __webpack_require__(171);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return CollectionPage; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nvar CollectionPage = (function () {\n    function CollectionPage(store) {\n        this.books$ = store.let(__WEBPACK_IMPORTED_MODULE_3__core_store__[\"i\" /* getBookCollection */]);\n    }\n    CollectionPage = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\n            selector: 'bc-collection-page',\n            changeDetection: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"ChangeDetectionStrategy\"].OnPush,\n            template: \"\\n    <md-card>\\n      <md-card-title>My Collection</md-card-title>\\n    </md-card>\\n\\n    <bc-book-preview-list [books]=\\\"books$ | async\\\"></bc-book-preview-list>\\n  \",\n            /**\n             * Container components are permitted to have just enough styles\n             * to bring the view together. If the number of styles grow,\n             * consider breaking them out into presentational\n             * components.\n             */\n            styles: [\"\\n    md-card-title {\\n      display: flex;\\n      justify-content: center;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_2__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object])\n    ], CollectionPage);\n    return CollectionPage;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1006:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_let__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_take__ = __webpack_require__(999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_take___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_take__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_store__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_store_book_book_actions__ = __webpack_require__(276);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return FindBookPage; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\nvar FindBookPage = (function () {\n    function FindBookPage(store) {\n        this.store = store;\n        this.searchQuery$ = store.let(__WEBPACK_IMPORTED_MODULE_4__core_store__[\"j\" /* getSearchQuery */]).take(1);\n        this.books$ = store.let(__WEBPACK_IMPORTED_MODULE_4__core_store__[\"k\" /* getSearchResults */]);\n        this.loading$ = store.let(__WEBPACK_IMPORTED_MODULE_4__core_store__[\"f\" /* getSearchLoading */]);\n    }\n    FindBookPage.prototype.search = function (query) {\n        this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_5__core_store_book_book_actions__[\"c\" /* SearchAction */](query));\n    };\n    FindBookPage = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"Component\"])({\n            selector: 'bc-find-book-page',\n            changeDetection: __WEBPACK_IMPORTED_MODULE_2__angular_core__[\"ChangeDetectionStrategy\"].OnPush,\n            template: \"\\n    <bc-book-search [query]=\\\"searchQuery$ | async\\\" [searching]=\\\"loading$ | async\\\" (search)=\\\"search($event)\\\"></bc-book-search>\\n    <bc-book-preview-list [books]=\\\"books$ | async\\\"></bc-book-preview-list>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object])\n    ], FindBookPage);\n    return FindBookPage;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1007:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ngrx_core_add_operator_select__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ngrx_core_add_operator_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__ngrx_core_add_operator_select__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_store_book_book_actions__ = __webpack_require__(276);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return ViewBookPage; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n/**\n * Note: Container components are also reusable. Whether or not\n * a component is a presentation component or a container\n * component is an implementation detail.\n *\n * The View Book Page's responsibility is to map router params\n * to a 'Select' book action. Actually showing the selected\n * book remains a responsibility of the\n * SelectedBookPageComponent\n */\nvar ViewBookPage = (function () {\n    function ViewBookPage(store, route) {\n        this.store = store;\n        this.actionsSubscription = route.params\n            .select('id')\n            .map(function (id) { return new __WEBPACK_IMPORTED_MODULE_5__core_store_book_book_actions__[\"d\" /* SelectAction */](id); })\n            .subscribe(store);\n    }\n    ViewBookPage.prototype.ngOnDestroy = function () {\n        this.actionsSubscription.unsubscribe();\n    };\n    ViewBookPage = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"Component\"])({\n            selector: 'bc-view-book-page',\n            changeDetection: __WEBPACK_IMPORTED_MODULE_2__angular_core__[\"ChangeDetectionStrategy\"].OnPush,\n            template: \"\\n    <bc-selected-book-page></bc-selected-book-page>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_4__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object, (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"d\" /* ActivatedRoute */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"d\" /* ActivatedRoute */]) === 'function' && _b) || Object])\n    ], ViewBookPage);\n    return ViewBookPage;\n    var _a, _b;\n}());\n\n\n/***/ },\n\n/***/ 1018:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return AddCommasPipe; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar AddCommasPipe = (function () {\n    function AddCommasPipe() {\n    }\n    AddCommasPipe.prototype.transform = function (authors) {\n        if (!authors)\n            return '';\n        switch (authors.length) {\n            case 1:\n                return authors[0];\n            case 2:\n                return authors.join(' and ');\n            default:\n                var last = authors[authors.length - 1];\n                var remaining = authors.slice(0, -1);\n                return remaining.join(', ') + \", and \" + last;\n        }\n    };\n    AddCommasPipe = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Pipe\"])({ name: 'bcAddCommas' }), \n        __metadata('design:paramtypes', [])\n    ], AddCommasPipe);\n    return AddCommasPipe;\n}());\n\n\n/***/ },\n\n/***/ 1019:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__ = __webpack_require__(1000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookAuthorsComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\nvar BookAuthorsComponent = (function () {\n    function BookAuthorsComponent() {\n    }\n    Object.defineProperty(BookAuthorsComponent.prototype, \"authors\", {\n        get: function () {\n            return this.book.volumeInfo.authors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"]) === 'function' && _a) || Object)\n    ], BookAuthorsComponent.prototype, \"book\", void 0);\n    BookAuthorsComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'bc-book-authors',\n            template: \"\\n    <h5 md-subheader>Written By:</h5>\\n    <span>\\n      {{ authors | bcAddCommas }}\\n    </span>\\n  \",\n            styles: [\"\\n    h5 {\\n      margin-bottom: 5px;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [])\n    ], BookAuthorsComponent);\n    return BookAuthorsComponent;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1020:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__ = __webpack_require__(1000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookDetailComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\nvar BookDetailComponent = (function () {\n    function BookDetailComponent() {\n        this.add = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\n        this.remove = new __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"EventEmitter\"]();\n    }\n    Object.defineProperty(BookDetailComponent.prototype, \"id\", {\n        /**\n         * Tip: Utilize getters to keep templates clean\n         */\n        get: function () {\n            return this.book.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookDetailComponent.prototype, \"title\", {\n        get: function () {\n            return this.book.volumeInfo.title;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookDetailComponent.prototype, \"subtitle\", {\n        get: function () {\n            return this.book.volumeInfo.subtitle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookDetailComponent.prototype, \"description\", {\n        get: function () {\n            return this.book.volumeInfo.description;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookDetailComponent.prototype, \"thumbnail\", {\n        get: function () {\n            return this.book.volumeInfo.imageLinks.smallThumbnail;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"]) === 'function' && _a) || Object)\n    ], BookDetailComponent.prototype, \"book\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \n        __metadata('design:type', Boolean)\n    ], BookDetailComponent.prototype, \"inCollection\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \n        __metadata('design:type', Object)\n    ], BookDetailComponent.prototype, \"add\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Output\"])(), \n        __metadata('design:type', Object)\n    ], BookDetailComponent.prototype, \"remove\", void 0);\n    BookDetailComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'bc-book-detail',\n            template: \"\\n    <md-card *ngIf=\\\"book\\\">\\n      <md-card-title-group>\\n        <md-card-title>{{ title }}</md-card-title>\\n        <md-card-subtitle *ngIf=\\\"subtitle\\\">{{ subtitle }}</md-card-subtitle>\\n        <img md-card-sm-image *ngIf=\\\"thumbnail\\\" [src]=\\\"thumbnail\\\"/>\\n      </md-card-title-group>\\n      <md-card-content>\\n        <p [innerHtml]=\\\"description\\\"></p>\\n      </md-card-content>\\n      <md-card-footer class=\\\"footer\\\">\\n        <bc-book-authors [book]=\\\"book\\\"></bc-book-authors>\\n      </md-card-footer>\\n      <md-card-actions align=\\\"end\\\">\\n        <button md-raised-button color=\\\"warn\\\" *ngIf=\\\"inCollection\\\" (click)=\\\"remove.emit(book)\\\">\\n        Remove Book from Collection\\n        </button>\\n\\n        <button md-raised-button color=\\\"primary\\\" *ngIf=\\\"!inCollection\\\" (click)=\\\"add.emit(book)\\\">\\n        Add Book to Collection\\n        </button>\\n      </md-card-actions>\\n    </md-card>\\n\\n  \",\n            styles: [\"\\n    :host {\\n      display: flex;\\n      justify-content: center;\\n      margin: 75px 0;\\n    }\\n    md-card {\\n      max-width: 600px;\\n    }\\n    md-card-title {\\n      margin-left: 10px;\\n    }\\n    img {\\n      width: 60px;\\n      min-width: 60px;\\n      margin-left: 5px;\\n    }\\n    md-card-content {\\n      margin-top: 15px;\\n      margin-bottom: 125px;\\n    }\\n    md-card-actions {\\n      margin-bottom: 0 !important;\\n      margin-right: 0;\\n    }\\n    md-card-footer {\\n      padding: 0 25px 25px;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [])\n    ], BookDetailComponent);\n    return BookDetailComponent;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1021:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookPreviewListComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar BookPreviewListComponent = (function () {\n    function BookPreviewListComponent() {\n    }\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \n        __metadata('design:type', Array)\n    ], BookPreviewListComponent.prototype, \"books\", void 0);\n    BookPreviewListComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'bc-book-preview-list',\n            template: \"\\n    <bc-book-preview *ngFor=\\\"let book of books\\\" [book]=\\\"book\\\"></bc-book-preview>\\n  \",\n            styles: [\"\\n    :host {\\n      display: flex;\\n      flex-wrap: wrap;\\n      justify-content: center;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [])\n    ], BookPreviewListComponent);\n    return BookPreviewListComponent;\n}());\n\n\n/***/ },\n\n/***/ 1022:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__ = __webpack_require__(1000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookPreviewComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\nvar BookPreviewComponent = (function () {\n    function BookPreviewComponent() {\n    }\n    Object.defineProperty(BookPreviewComponent.prototype, \"id\", {\n        get: function () {\n            return this.book.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookPreviewComponent.prototype, \"title\", {\n        get: function () {\n            return this.book.volumeInfo.title;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookPreviewComponent.prototype, \"subtitle\", {\n        get: function () {\n            return this.book.volumeInfo.subtitle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookPreviewComponent.prototype, \"description\", {\n        get: function () {\n            return this.book.volumeInfo.description;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BookPreviewComponent.prototype, \"thumbnail\", {\n        get: function () {\n            if (this.book.volumeInfo.imageLinks) {\n                return this.book.volumeInfo.imageLinks.smallThumbnail;\n            }\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Input\"])(), \n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__core_store_book_book_model__[\"Book\"]) === 'function' && _a) || Object)\n    ], BookPreviewComponent.prototype, \"book\", void 0);\n    BookPreviewComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'bc-book-preview',\n            template: \"\\n    <a [routerLink]=\\\"['/books/book', id]\\\">\\n      <md-card>\\n        <md-card-title-group>\\n          <img md-card-sm-image *ngIf=\\\"thumbnail\\\" [src]=\\\"thumbnail\\\"/>\\n          <md-card-title>{{ title }}</md-card-title>\\n          <md-card-subtitle *ngIf=\\\"subtitle\\\">{{ subtitle }}</md-card-subtitle>\\n        </md-card-title-group>\\n        <md-card-content>\\n          <p *ngIf=\\\"description\\\">{{ description | bcEllipsis }}</p>\\n        </md-card-content>\\n        <md-card-footer>\\n          <bc-book-authors [book]=\\\"book\\\"></bc-book-authors>\\n        </md-card-footer>\\n      </md-card>\\n    </a>\\n  \",\n            styles: [\"\\n    md-card {\\n      width: 400px;\\n      height: 300px;\\n      margin: 15px;\\n    }\\n    md-card-title {\\n      margin-right: 10px;\\n    }\\n    a {\\n      color: inherit;\\n      text-decoration: none;\\n    }\\n    img {\\n      width: 60px;\\n      min-width: 60px;\\n      margin-left: 5px;\\n    }\\n    md-card-content {\\n      margin-top: 15px;\\n    }\\n    span {\\n      display: inline-block;\\n      font-size: 13px;\\n    }\\n    md-card-footer {\\n      padding: 0 25px 25px;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [])\n    ], BookPreviewComponent);\n    return BookPreviewComponent;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1023:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_debounceTime__ = __webpack_require__(504);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_debounceTime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__(510);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_distinctUntilChanged__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookSearchComponent; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nvar BookSearchComponent = (function () {\n    function BookSearchComponent() {\n        this.query = '';\n        this.searching = false;\n        this.search = new __WEBPACK_IMPORTED_MODULE_3__angular_core__[\"EventEmitter\"]();\n    }\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__angular_core__[\"Input\"])(), \n        __metadata('design:type', String)\n    ], BookSearchComponent.prototype, \"query\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__angular_core__[\"Input\"])(), \n        __metadata('design:type', Object)\n    ], BookSearchComponent.prototype, \"searching\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__angular_core__[\"Output\"])(), \n        __metadata('design:type', Object)\n    ], BookSearchComponent.prototype, \"search\", void 0);\n    BookSearchComponent = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__angular_core__[\"Component\"])({\n            selector: 'bc-book-search',\n            template: \"\\n    <md-card>\\n      <md-card-title>Find a Book</md-card-title>\\n      <md-card-content>\\n        <md-input placeholder=\\\"Search for a book\\\" [value]=\\\"query\\\" (keyup)=\\\"search.emit($event.target.value)\\\"></md-input>\\n        <md-spinner [class.show]=\\\"searching\\\"></md-spinner>\\n      </md-card-content>\\n    </md-card>\\n  \",\n            styles: [\"\\n    md-card-title,\\n    md-card-content {\\n      display: flex;\\n      justify-content: center;\\n    }\\n\\n    md-input {\\n      width: 300px;\\n    }\\n\\n    md-card-spinner {\\n      padding-left: 60px; // Make room for the spinner\\n    }\\n\\n    md-spinner {\\n      width: 30px;\\n      height: 30px;\\n      position: relative;\\n      top: 10px;\\n      left: 10px;\\n      opacity: 0.0;\\n    }\\n\\n    md-spinner.show {\\n      opacity: 1.0;\\n    }\\n  \"]\n        }), \n        __metadata('design:paramtypes', [])\n    ], BookSearchComponent);\n    return BookSearchComponent;\n}());\n\n\n/***/ },\n\n/***/ 1024:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__book_exists_book_exists_guard__ = __webpack_require__(1004);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__find_book_page__ = __webpack_require__(1006);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__view_book_page__ = __webpack_require__(1007);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__collection_page__ = __webpack_require__(1005);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return routing; });\n\n\n\n\n\nvar routes = [\n    {\n        path: '',\n        component: __WEBPACK_IMPORTED_MODULE_4__collection_page__[\"a\" /* CollectionPage */]\n    },\n    {\n        path: 'book/find',\n        component: __WEBPACK_IMPORTED_MODULE_2__find_book_page__[\"a\" /* FindBookPage */]\n    },\n    {\n        path: 'book/:id',\n        canActivate: [__WEBPACK_IMPORTED_MODULE_1__book_exists_book_exists_guard__[\"a\" /* BookExistsGuard */]],\n        component: __WEBPACK_IMPORTED_MODULE_3__view_book_page__[\"a\" /* ViewBookPage */]\n    }\n];\nvar routing = __WEBPACK_IMPORTED_MODULE_0__angular_router__[\"c\" /* RouterModule */].forChild(routes);\n\n\n/***/ },\n\n/***/ 1025:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return EllipsisPipe; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar EllipsisPipe = (function () {\n    function EllipsisPipe() {\n    }\n    EllipsisPipe.prototype.transform = function (str) {\n        var withoutHtml = str.replace(/(<([^>]+)>)/ig, '');\n        if (str.length >= 250) {\n            return withoutHtml.slice(0, 250) + '...';\n        }\n        return withoutHtml;\n    };\n    EllipsisPipe = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Pipe\"])({ name: 'bcEllipsis' }), \n        __metadata('design:paramtypes', [])\n    ], EllipsisPipe);\n    return EllipsisPipe;\n}());\n\n\n/***/ },\n\n/***/ 1026:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ngrx_store__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_store__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_store_collection_collection_actions__ = __webpack_require__(277);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return SelectedBookPage; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\nvar SelectedBookPage = (function () {\n    function SelectedBookPage(store) {\n        this.store = store;\n        this.book$ = store.let(__WEBPACK_IMPORTED_MODULE_2__core_store__[\"l\" /* getSelectedBook */]);\n        this.isSelectedBookInCollection$ = store.let(__WEBPACK_IMPORTED_MODULE_2__core_store__[\"m\" /* isSelectedBookInCollection */]);\n    }\n    SelectedBookPage.prototype.addToCollection = function (book) {\n        this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_3__core_store_collection_collection_actions__[\"b\" /* AddBookAction */](book));\n    };\n    SelectedBookPage.prototype.removeFromCollection = function (book) {\n        this.store.dispatch(new __WEBPACK_IMPORTED_MODULE_3__core_store_collection_collection_actions__[\"c\" /* RemoveBookAction */](book));\n    };\n    SelectedBookPage = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__[\"Component\"])({\n            selector: 'bc-selected-book-page',\n            changeDetection: __WEBPACK_IMPORTED_MODULE_0__angular_core__[\"ChangeDetectionStrategy\"].OnPush,\n            template: \"\\n    <bc-book-detail\\n      [book]=\\\"book$ | async\\\"\\n      [inCollection]=\\\"isSelectedBookInCollection$ | async\\\"\\n      (add)=\\\"addToCollection($event)\\\"\\n      (remove)=\\\"removeFromCollection($event)\\\">\\n    </bc-book-detail>\\n  \"\n        }), \n        __metadata('design:paramtypes', [(typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_1__ngrx_store__[\"b\" /* Store */]) === 'function' && _a) || Object])\n    ], SelectedBookPage);\n    return SelectedBookPage;\n    var _a;\n}());\n\n\n/***/ },\n\n/***/ 1028:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_catch__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_switchMap__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_switchMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_debounceTime__ = __webpack_require__(504);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_debounceTime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_skip__ = __webpack_require__(1063);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_skip___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_skip__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_takeUntil__ = __webpack_require__(1064);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_takeUntil___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_takeUntil__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_Observable__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_observable_empty__ = __webpack_require__(512);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_observable_empty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_observable_empty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__google_books_service__ = __webpack_require__(1001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__book_actions__ = __webpack_require__(276);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return BookEffects; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Effects offer a way to isolate and easily test side-effects within your\n * application. StateUpdates is an observable of the latest state and\n * dispatched action. The `toPayload` helper function returns just\n * the payload of the currently dispatched action, useful in\n * instances where the current state is not necessary.\n *\n * If you are unfamiliar with the operators being used in these examples, please\n * check out the sources below:\n *\n * Official Docs: http://reactivex.io/rxjs/manual/overview.html#categories-of-operators\n * RxJS 5 Operators By Example: https://gist.github.com/btroncone/d6cf141d6f2c00dc6b35\n */\nvar BookEffects = (function () {\n    function BookEffects(actions$, googleBooks) {\n        var _this = this;\n        this.actions$ = actions$;\n        this.googleBooks = googleBooks;\n        this.search$ = this.actions$\n            .ofType(__WEBPACK_IMPORTED_MODULE_12__book_actions__[\"a\" /* ActionTypes */].SEARCH)\n            .debounceTime(300)\n            .map(function (action) { return action.payload; })\n            .switchMap(function (query) {\n            if (query === '') {\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_rxjs_observable_empty__[\"empty\"])();\n            }\n            var nextSearch$ = _this.actions$.ofType(__WEBPACK_IMPORTED_MODULE_12__book_actions__[\"a\" /* ActionTypes */].SEARCH).skip(1);\n            return _this.googleBooks.searchBooks(query)\n                .takeUntil(nextSearch$)\n                .map(function (books) { return new __WEBPACK_IMPORTED_MODULE_12__book_actions__[\"e\" /* SearchCompleteAction */](books); })\n                .catch(function () { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_of__[\"of\"])(new __WEBPACK_IMPORTED_MODULE_12__book_actions__[\"e\" /* SearchCompleteAction */]([])); });\n        });\n    }\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_8_rxjs_Observable__[\"Observable\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_8_rxjs_Observable__[\"Observable\"]) === 'function' && _a) || Object)\n    ], BookEffects.prototype, \"search$\", void 0);\n    BookEffects = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"b\" /* Actions */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"b\" /* Actions */]) === 'function' && _b) || Object, (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_11__google_books_service__[\"a\" /* GoogleBooksService */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_11__google_books_service__[\"a\" /* GoogleBooksService */]) === 'function' && _c) || Object])\n    ], BookEffects);\n    return BookEffects;\n    var _a, _b, _c;\n}());\n\n\n/***/ },\n\n/***/ 1031:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__ = __webpack_require__(273);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_switchMap__ = __webpack_require__(172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_switchMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_mergeMap__ = __webpack_require__(496);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_mergeMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_operator_mergeMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_toArray__ = __webpack_require__(497);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_toArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_toArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ngrx_db__ = __webpack_require__(505);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_defer__ = __webpack_require__(1066);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_observable_defer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_defer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__collection_actions__ = __webpack_require__(277);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"a\", function() { return CollectionEffects; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CollectionEffects = (function () {\n    function CollectionEffects(actions$, db) {\n        var _this = this;\n        this.actions$ = actions$;\n        this.db = db;\n        /**\n         * This effect does not yield any actions back to the store. Set\n         * `dispatch` to false to hint to @ngrx/effects that it should\n         * ignore any elements of this effect stream.\n         *\n         * The `defer` observable accepts an observable factory function\n         * that is called when the observable is subscribed to.\n         * Wrapping the database open call in `defer` makes\n         * effect easier to test.\n         */\n        this.openDB$ = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10_rxjs_observable_defer__[\"defer\"])(function () {\n            return _this.db.open('books_app');\n        });\n        /**\n         * This effect makes use of the `startWith` operator to trigger\n         * the effect immediately on startup.\n         */\n        this.loadCollection$ = this.actions$\n            .ofType(__WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"a\" /* ActionTypes */].LOAD)\n            .startWith(new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"d\" /* LoadAction */]())\n            .switchMap(function () { return _this.db.query('books')\n            .toArray()\n            .map(function (books) { return new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"e\" /* LoadSuccessAction */](books); })\n            .catch(function (error) { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__[\"of\"])(new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"f\" /* LoadFailAction */](error)); }); });\n        this.addBookToCollection$ = this.actions$\n            .ofType(__WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"a\" /* ActionTypes */].ADD_BOOK)\n            .map(function (action) { return action.payload; })\n            .mergeMap(function (book) {\n            return _this.db.insert('books', [book])\n                .map(function () { return new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"g\" /* AddBookSuccessAction */](book); })\n                .catch(function () { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__[\"of\"])(new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"h\" /* AddBookFailAction */](book)); });\n        });\n        this.removeBookFromCollection$ = this.actions$\n            .ofType(__WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"a\" /* ActionTypes */].REMOVE_BOOK)\n            .map(function (action) { return action.payload; })\n            .mergeMap(function (book) {\n            return _this.db.executeWrite('books', 'delete', [book.id])\n                .map(function () { return new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"i\" /* RemoveBookSuccessAction */](book); })\n                .catch(function () { return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_rxjs_observable_of__[\"of\"])(new __WEBPACK_IMPORTED_MODULE_12__collection_actions__[\"j\" /* RemoveBookFailAction */](book)); });\n        });\n    }\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"a\" /* Effect */])({ dispatch: false }), \n        __metadata('design:type', (typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"]) === 'function' && _a) || Object)\n    ], CollectionEffects.prototype, \"openDB$\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', (typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"]) === 'function' && _b) || Object)\n    ], CollectionEffects.prototype, \"loadCollection$\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', (typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"]) === 'function' && _c) || Object)\n    ], CollectionEffects.prototype, \"addBookToCollection$\", void 0);\n    __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"a\" /* Effect */])(), \n        __metadata('design:type', (typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_9_rxjs_Observable__[\"Observable\"]) === 'function' && _d) || Object)\n    ], CollectionEffects.prototype, \"removeBookFromCollection$\", void 0);\n    CollectionEffects = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__angular_core__[\"Injectable\"])(), \n        __metadata('design:paramtypes', [(typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"b\" /* Actions */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_7__ngrx_effects__[\"b\" /* Actions */]) === 'function' && _e) || Object, (typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_8__ngrx_db__[\"a\" /* Database */] !== 'undefined' && __WEBPACK_IMPORTED_MODULE_8__ngrx_db__[\"a\" /* Database */]) === 'function' && _f) || Object])\n    ], CollectionEffects);\n    return CollectionEffects;\n    var _a, _b, _c, _d, _e, _f;\n}());\n\n\n/***/ },\n\n/***/ 1063:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar Observable_1 = __webpack_require__(2);\nvar skip_1 = __webpack_require__(513);\nObservable_1.Observable.prototype.skip = skip_1.skip;\n//# sourceMappingURL=skip.js.map\n\n/***/ },\n\n/***/ 1064:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar Observable_1 = __webpack_require__(2);\nvar takeUntil_1 = __webpack_require__(514);\nObservable_1.Observable.prototype.takeUntil = takeUntil_1.takeUntil;\n//# sourceMappingURL=takeUntil.js.map\n\n/***/ },\n\n/***/ 1065:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(2);\nvar subscribeToResult_1 = __webpack_require__(66);\nvar OuterSubscriber_1 = __webpack_require__(65);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar DeferObservable = (function (_super) {\n    __extends(DeferObservable, _super);\n    function DeferObservable(observableFactory) {\n        _super.call(this);\n        this.observableFactory = observableFactory;\n    }\n    /**\n     * Creates an Observable that, on subscribe, calls an Observable factory to\n     * make an Observable for each new Observer.\n     *\n     * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n     * is subscribed.\n     * </span>\n     *\n     * <img src=\"./img/defer.png\" width=\"100%\">\n     *\n     * `defer` allows you to create the Observable only when the Observer\n     * subscribes, and create a fresh Observable for each Observer. It waits until\n     * an Observer subscribes to it, and then it generates an Observable,\n     * typically with an Observable factory function. It does this afresh for each\n     * subscriber, so although each subscriber may think it is subscribing to the\n     * same Observable, in fact each subscriber gets its own individual\n     * Observable.\n     *\n     * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n     * var clicksOrInterval = Rx.Observable.defer(function () {\n     *   if (Math.random() > 0.5) {\n     *     return Rx.Observable.fromEvent(document, 'click');\n     *   } else {\n     *     return Rx.Observable.interval(1000);\n     *   }\n     * });\n     * clicksOrInterval.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     *\n     * @param {function(): Observable|Promise} observableFactory The Observable\n     * factory function to invoke for each Observer that subscribes to the output\n     * Observable. May also return a Promise, which will be converted on the fly\n     * to an Observable.\n     * @return {Observable} An Observable whose Observers' subscriptions trigger\n     * an invocation of the given Observable factory function.\n     * @static true\n     * @name defer\n     * @owner Observable\n     */\n    DeferObservable.create = function (observableFactory) {\n        return new DeferObservable(observableFactory);\n    };\n    DeferObservable.prototype._subscribe = function (subscriber) {\n        return new DeferSubscriber(subscriber, this.observableFactory);\n    };\n    return DeferObservable;\n}(Observable_1.Observable));\nexports.DeferObservable = DeferObservable;\nvar DeferSubscriber = (function (_super) {\n    __extends(DeferSubscriber, _super);\n    function DeferSubscriber(destination, factory) {\n        _super.call(this, destination);\n        this.factory = factory;\n        this.tryDefer();\n    }\n    DeferSubscriber.prototype.tryDefer = function () {\n        try {\n            this._callFactory();\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    DeferSubscriber.prototype._callFactory = function () {\n        var result = this.factory();\n        if (result) {\n            this.add(subscribeToResult_1.subscribeToResult(this, result));\n        }\n    };\n    return DeferSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=DeferObservable.js.map\n\n/***/ },\n\n/***/ 1066:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar DeferObservable_1 = __webpack_require__(1065);\nexports.defer = DeferObservable_1.DeferObservable.create;\n//# sourceMappingURL=defer.js.map\n\n/***/ },\n\n/***/ 985:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_common__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_material__ = __webpack_require__(175);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_core__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ngrx_effects__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__book_authors_book_authors_component__ = __webpack_require__(1019);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__book_detail_book_detail_component__ = __webpack_require__(1020);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__book_preview_book_preview_component__ = __webpack_require__(1022);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__book_preview_book_preview_list_component__ = __webpack_require__(1021);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__book_search_book_search_component__ = __webpack_require__(1023);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__add_commas_add_commas_pipe__ = __webpack_require__(1018);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ellipsis_ellipsis_pipe__ = __webpack_require__(1025);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__core_store_book_google_books_service__ = __webpack_require__(1001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__book_exists_book_exists_guard__ = __webpack_require__(1004);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__collection_page__ = __webpack_require__(1005);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__find_book_page__ = __webpack_require__(1006);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__selected_book_page__ = __webpack_require__(1026);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__view_book_page__ = __webpack_require__(1007);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__core_store_book_book_effects__ = __webpack_require__(1028);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__core_store_collection_collection_effects__ = __webpack_require__(1031);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__shared_shared_module__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__books_routing__ = __webpack_require__(1024);\n/* harmony export (binding) */ __webpack_require__.d(exports, \"COMPONENTS\", function() { return COMPONENTS; });\n/* harmony export (binding) */ __webpack_require__.d(exports, \"BooksModule\", function() { return BooksModule; });\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar COMPONENTS = [\n    __WEBPACK_IMPORTED_MODULE_6__book_authors_book_authors_component__[\"a\" /* BookAuthorsComponent */],\n    __WEBPACK_IMPORTED_MODULE_7__book_detail_book_detail_component__[\"a\" /* BookDetailComponent */],\n    __WEBPACK_IMPORTED_MODULE_8__book_preview_book_preview_component__[\"a\" /* BookPreviewComponent */],\n    __WEBPACK_IMPORTED_MODULE_9__book_preview_book_preview_list_component__[\"a\" /* BookPreviewListComponent */],\n    __WEBPACK_IMPORTED_MODULE_10__book_search_book_search_component__[\"a\" /* BookSearchComponent */],\n    __WEBPACK_IMPORTED_MODULE_11__add_commas_add_commas_pipe__[\"a\" /* AddCommasPipe */],\n    __WEBPACK_IMPORTED_MODULE_12__ellipsis_ellipsis_pipe__[\"a\" /* EllipsisPipe */],\n    __WEBPACK_IMPORTED_MODULE_15__collection_page__[\"a\" /* CollectionPage */],\n    __WEBPACK_IMPORTED_MODULE_16__find_book_page__[\"a\" /* FindBookPage */],\n    __WEBPACK_IMPORTED_MODULE_17__selected_book_page__[\"a\" /* SelectedBookPage */],\n    __WEBPACK_IMPORTED_MODULE_18__view_book_page__[\"a\" /* ViewBookPage */]\n];\nvar BooksModule = (function () {\n    function BooksModule() {\n    }\n    BooksModule = __decorate([\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_core__[\"NgModule\"])({\n            imports: [\n                __WEBPACK_IMPORTED_MODULE_21__shared_shared_module__[\"a\" /* SharedModule */],\n                __WEBPACK_IMPORTED_MODULE_22__books_routing__[\"a\" /* routing */],\n                __WEBPACK_IMPORTED_MODULE_0__angular_common__[\"b\" /* CommonModule */],\n                __WEBPACK_IMPORTED_MODULE_3__angular_forms__[\"ReactiveFormsModule\"],\n                __WEBPACK_IMPORTED_MODULE_1__angular_material__[\"a\" /* MaterialModule */],\n                __WEBPACK_IMPORTED_MODULE_4__angular_router__[\"c\" /* RouterModule */],\n                //    NavigatorModule,\n                __WEBPACK_IMPORTED_MODULE_5__ngrx_effects__[\"c\" /* EffectsModule */].run(__WEBPACK_IMPORTED_MODULE_19__core_store_book_book_effects__[\"a\" /* BookEffects */]),\n                __WEBPACK_IMPORTED_MODULE_5__ngrx_effects__[\"c\" /* EffectsModule */].run(__WEBPACK_IMPORTED_MODULE_20__core_store_collection_collection_effects__[\"a\" /* CollectionEffects */]),\n            ],\n            declarations: COMPONENTS,\n            exports: COMPONENTS,\n            providers: [\n                __WEBPACK_IMPORTED_MODULE_14__book_exists_book_exists_guard__[\"a\" /* BookExistsGuard */],\n                __WEBPACK_IMPORTED_MODULE_13__core_store_book_google_books_service__[\"a\" /* GoogleBooksService */]\n            ],\n        }), \n        __metadata('design:paramtypes', [])\n    ], BooksModule);\n    return BooksModule;\n}());\n\n\n/***/ },\n\n/***/ 999:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\"use strict\";\nvar Observable_1 = __webpack_require__(2);\nvar take_1 = __webpack_require__(1002);\nObservable_1.Observable.prototype.take = take_1.take;\n//# sourceMappingURL=take.js.map\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.48e776a8e7fd68d76259.chunk.js","import 'rxjs/add/operator/map';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport { Book } from './book.model';\n\n\n@Injectable()\nexport class GoogleBooksService {\n  private API_PATH: string = 'https://www.googleapis.com/books/v1/volumes';\n\n  constructor(private http: Http) {}\n\n  searchBooks(queryTitle: string): Observable<Book[]> {\n    return this.http.get(`${this.API_PATH}?q=${queryTitle}`)\n      .map(res => res.json().items);\n  }\n\n  retrieveBook(volumeId: string): Observable<Book> {\n    return this.http.get(`${this.API_PATH}/${volumeId}`)\n      .map(res => res.json());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/core/store/book/google-books.service.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar ArgumentOutOfRangeError_1 = require('../util/ArgumentOutOfRangeError');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nfunction take(count) {\n    if (count === 0) {\n        return new EmptyObservable_1.EmptyObservable();\n    }\n    else {\n        return this.lift(new TakeOperator(count));\n    }\n}\nexports.take = take;\nvar TakeOperator = (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeSubscriber = (function (_super) {\n    __extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        _super.call(this, destination);\n        this.total = total;\n        this.count = 0;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        if (++this.count <= total) {\n            this.destination.next(value);\n            if (this.count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=take.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/operator/take.js\n// module id = 1002\n// module chunks = 0 1","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nvar ArgumentOutOfRangeError = (function (_super) {\n    __extends(ArgumentOutOfRangeError, _super);\n    function ArgumentOutOfRangeError() {\n        var err = _super.call(this, 'argument out of range');\n        this.name = err.name = 'ArgumentOutOfRangeError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ArgumentOutOfRangeError;\n}(Error));\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/util/ArgumentOutOfRangeError.js\n// module id = 1003\n// module chunks = 0 1","// TODO Decide whether this belongs in the store or the book feature\n\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/let';\nimport { Injectable } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Router, CanActivate, ActivatedRouteSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport { of } from 'rxjs/observable/of';\n\nimport { GoogleBooksService } from '../../core/store/book/google-books.service';\nimport * as fromRoot from '../../core/store';\nimport * as book from '../../core/store/book/book.actions';\n\n\n/**\n * Guards are hooks into the route resolution process, providing an opportunity\n * to inform the router's navigation process whether the route should continue\n * to activate this route. Guards must return an observable of true or false.\n */\n@Injectable()\nexport class BookExistsGuard implements CanActivate {\n  constructor(\n    private store: Store<fromRoot.RootState>,\n    private googleBooks: GoogleBooksService,\n    private router: Router\n  ) { }\n\n  /**\n   * This method creates an observable that waits for the `loaded` property\n   * of the collection state to turn `true`, emitting one time once loading\n   * has finished.\n   */\n  waitForCollectionToLoad(): Observable<boolean> {\n    return this.store.let(fromRoot.getCollectionLoaded)\n      .filter(loaded => loaded)\n      .take(1);\n  }\n\n  /**\n   * This method checks if a book with the given ID is already registered\n   * in the Store\n   */\n  hasBookInStore(id: string): Observable<boolean> {\n    return this.store.let(fromRoot.getBookEntities)\n      .map(entities => !!entities[id])\n      .take(1);\n  }\n\n  /**\n   * This method loads a book with the given ID from the API and caches\n   * it in the store, returning `true` or `false` if it was found.\n   */\n  hasBookInApi(id: string): Observable<boolean> {\n    return this.googleBooks.retrieveBook(id)\n      .map(bookEntity => new book.LoadAction(bookEntity))\n      .do(action => this.store.dispatch(action))\n      .map(book => !!book)\n      .catch(() => {\n        this.router.navigate(['/404']);\n        return of(false);\n      });\n  }\n\n  /**\n   * `hasBook` composes `hasBookInStore` and `hasBookInApi`. It first checks\n   * if the book is in store, and if not it then checks if it is in the\n   * API.\n   */\n  hasBook(id: string): Observable<boolean> {\n    return this.hasBookInStore(id)\n      .switchMap(inStore => {\n        if (inStore) {\n          return of(inStore);\n        }\n\n        return this.hasBookInApi(id);\n      });\n  }\n\n  /**\n   * This is the actual method the router will call when our guard is run.\n   *\n   * Our guard waits for the collection to load, then it checks if we need\n   * to request a book from the API or if we already have it in our cache.\n   * If it finds it in the cache or in the API, it returns an Observable\n   * of `true` and the route is rendered successfully.\n   *\n   * If it was unable to find it in our cache or in the API, this guard\n   * will return an Observable of `false`, causing the router to move\n   * on to the next candidate route. In this case, it will move on\n   * to the 404 page.\n   */\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> {\n    return this.waitForCollectionToLoad()\n      .switchMap(() => this.hasBook(route.params['id']));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-exists/book-exists.guard.ts","import 'rxjs/add/operator/let';\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as fromRoot from '../core/store';\nimport { Book } from '../core/store/book/book.model';\n\n\n@Component({\n  selector: 'bc-collection-page',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <md-card>\n      <md-card-title>My Collection</md-card-title>\n    </md-card>\n\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\n  `,\n  /**\n   * Container components are permitted to have just enough styles\n   * to bring the view together. If the number of styles grow,\n   * consider breaking them out into presentational \n   * components.\n   */\n  styles: [`\n    md-card-title {\n      display: flex;\n      justify-content: center;\n    }\n  `]\n})\nexport class CollectionPage {\n  books$: Observable<Book[]>;\n\n  constructor(store: Store<fromRoot.RootState>) {\n    this.books$ = store.let(fromRoot.getBookCollection);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/collection.page.ts","import 'rxjs/add/operator/let';\nimport 'rxjs/add/operator/take';\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as fromRoot from '../core/store';\nimport * as book from '../core/store/book/book.actions';\nimport { Book } from '../core/store/book/book.model';\n\n\n@Component({\n  selector: 'bc-find-book-page',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <bc-book-search [query]=\"searchQuery$ | async\" [searching]=\"loading$ | async\" (search)=\"search($event)\"></bc-book-search>\n    <bc-book-preview-list [books]=\"books$ | async\"></bc-book-preview-list>\n  `\n})\nexport class FindBookPage {\n  searchQuery$: Observable<string>;\n  books$: Observable<Book[]>;\n  loading$: Observable<boolean>;\n\n  constructor(private store: Store<fromRoot.RootState>) {\n    this.searchQuery$ = store.let(fromRoot.getSearchQuery).take(1);\n    this.books$ = store.let(fromRoot.getSearchResults);\n    this.loading$ = store.let(fromRoot.getSearchLoading);\n  }\n\n  search(query: string) {\n    this.store.dispatch(new book.SearchAction(query));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/find-book.page.ts","import '@ngrx/core/add/operator/select';\nimport 'rxjs/add/operator/map';\nimport { Component, OnDestroy, ChangeDetectionStrategy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport * as fromRoot from '../core/store';\nimport * as book from '../core/store/book/book.actions';\n\n/**\n * Note: Container components are also reusable. Whether or not \n * a component is a presentation component or a container\n * component is an implementation detail.\n * \n * The View Book Page's responsibility is to map router params\n * to a 'Select' book action. Actually showing the selected\n * book remains a responsibility of the \n * SelectedBookPageComponent\n */\n@Component({\n  selector: 'bc-view-book-page',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <bc-selected-book-page></bc-selected-book-page>\n  `\n})\nexport class ViewBookPage implements OnDestroy {\n  actionsSubscription: Subscription;\n\n  constructor(private store: Store<fromRoot.RootState>, route: ActivatedRoute) {\n    this.actionsSubscription = route.params\n      .select<string>('id')\n      .map(id => new book.SelectAction(id))\n      .subscribe(store);\n  }\n\n  ngOnDestroy() {\n    this.actionsSubscription.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/view-book.page.ts","import { Pipe } from '@angular/core';\n\n\n@Pipe({ name: 'bcAddCommas' })\nexport class AddCommasPipe {\n  transform(authors: null | string[]) {\n    if (!authors) return '';\n\n    switch (authors.length) {\n      case 1:\n        return authors[0];\n      case 2:\n        return authors.join(' and ');\n      default:\n        const last = authors[authors.length - 1];\n        const remaining = authors.slice(0, -1);\n        return `${remaining.join(', ')}, and ${last}`;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/add-commas/add-commas.pipe.ts","import { Component, Input } from '@angular/core';\n\nimport { Book } from '../../core/store/book/book.model';\n\n\n@Component({\n  selector: 'bc-book-authors',\n  template: `\n    <h5 md-subheader>Written By:</h5>\n    <span>\n      {{ authors | bcAddCommas }}\n    </span>\n  `,\n  styles: [`\n    h5 {\n      margin-bottom: 5px;\n    }\n  `]\n})\nexport class BookAuthorsComponent {\n  @Input() book: Book;\n\n  get authors() {\n    return this.book.volumeInfo.authors;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-authors/book-authors.component.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Book } from '../../core/store/book/book.model';\n\n\n@Component({\n  selector: 'bc-book-detail',\n  template: `\n    <md-card *ngIf=\"book\">\n      <md-card-title-group>\n        <md-card-title>{{ title }}</md-card-title>\n        <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle }}</md-card-subtitle>\n        <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\n      </md-card-title-group>\n      <md-card-content>\n        <p [innerHtml]=\"description\"></p>\n      </md-card-content>\n      <md-card-footer class=\"footer\">\n        <bc-book-authors [book]=\"book\"></bc-book-authors>\n      </md-card-footer>\n      <md-card-actions align=\"end\">\n        <button md-raised-button color=\"warn\" *ngIf=\"inCollection\" (click)=\"remove.emit(book)\">\n        Remove Book from Collection\n        </button>\n\n        <button md-raised-button color=\"primary\" *ngIf=\"!inCollection\" (click)=\"add.emit(book)\">\n        Add Book to Collection\n        </button>\n      </md-card-actions>\n    </md-card>\n\n  `,\n  styles: [`\n    :host {\n      display: flex;\n      justify-content: center;\n      margin: 75px 0;\n    }\n    md-card {\n      max-width: 600px;\n    }\n    md-card-title {\n      margin-left: 10px;\n    }\n    img {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content {\n      margin-top: 15px;\n      margin-bottom: 125px;\n    }\n    md-card-actions {\n      margin-bottom: 0 !important;\n      margin-right: 0;\n    }\n    md-card-footer {\n      padding: 0 25px 25px;\n    }\n  `]\n})\nexport class BookDetailComponent {\n  /**\n   * Presentational components receieve data through @Input() and communicate events\n   * through @Output() but generally maintain no internal state of their\n   * own. All decisions are delegated to 'container', or 'smart'\n   * components before data updates flow back down.\n   *\n   * More on 'smart' and 'presentational' components: https://gist.github.com/btroncone/a6e4347326749f938510#utilizing-container-components\n   */\n  @Input() book: Book;\n  @Input() inCollection: boolean;\n  @Output() add = new EventEmitter<Book>();\n  @Output() remove = new EventEmitter<Book>();\n\n\n  /**\n   * Tip: Utilize getters to keep templates clean\n   */\n  get id() {\n    return this.book.id;\n  }\n\n  get title() {\n    return this.book.volumeInfo.title;\n  }\n\n  get subtitle() {\n    return this.book.volumeInfo.subtitle;\n  }\n\n  get description() {\n    return this.book.volumeInfo.description;\n  }\n\n  get thumbnail() {\n    return this.book.volumeInfo.imageLinks.smallThumbnail;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-detail/book-detail.component.ts","import { Component, Input } from '@angular/core';\nimport { Book } from '../../core/store/book/book.model';\n\n@Component({\n  selector: 'bc-book-preview-list',\n  template: `\n    <bc-book-preview *ngFor=\"let book of books\" [book]=\"book\"></bc-book-preview>\n  `,\n  styles: [`\n    :host {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n    }\n  `]\n})\nexport class BookPreviewListComponent {\n  @Input() books: Book[];\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-preview/book-preview-list.component.ts","import { Component, Input } from '@angular/core';\nimport { Book } from '../../core/store/book/book.model';\n\n@Component({\n  selector: 'bc-book-preview',\n  template: `\n    <a [routerLink]=\"['/books/book', id]\">\n      <md-card>\n        <md-card-title-group>\n          <img md-card-sm-image *ngIf=\"thumbnail\" [src]=\"thumbnail\"/>\n          <md-card-title>{{ title }}</md-card-title>\n          <md-card-subtitle *ngIf=\"subtitle\">{{ subtitle }}</md-card-subtitle>\n        </md-card-title-group>\n        <md-card-content>\n          <p *ngIf=\"description\">{{ description | bcEllipsis }}</p>\n        </md-card-content>\n        <md-card-footer>\n          <bc-book-authors [book]=\"book\"></bc-book-authors>\n        </md-card-footer>\n      </md-card>\n    </a>\n  `,\n  styles: [`\n    md-card {\n      width: 400px;\n      height: 300px;\n      margin: 15px;\n    }\n    md-card-title {\n      margin-right: 10px;\n    }\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n    img {\n      width: 60px;\n      min-width: 60px;\n      margin-left: 5px;\n    }\n    md-card-content {\n      margin-top: 15px;\n    }\n    span {\n      display: inline-block;\n      font-size: 13px;\n    }\n    md-card-footer {\n      padding: 0 25px 25px;\n    }\n  `]\n})\nexport class BookPreviewComponent {\n  @Input() book: Book;\n\n  get id() {\n    return this.book.id;\n  }\n\n  get title() {\n    return this.book.volumeInfo.title;\n  }\n\n  get subtitle() {\n    return this.book.volumeInfo.subtitle;\n  }\n\n  get description() {\n    return this.book.volumeInfo.description;\n  }\n\n  get thumbnail(): string | boolean {\n    if (this.book.volumeInfo.imageLinks) {\n      return this.book.volumeInfo.imageLinks.smallThumbnail;\n    }\n\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-preview/book-preview.component.ts","import 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport { Component, Output, Input, EventEmitter } from '@angular/core';\n\n\n@Component({\n  selector: 'bc-book-search',\n  template: `\n    <md-card>\n      <md-card-title>Find a Book</md-card-title>\n      <md-card-content>\n        <md-input placeholder=\"Search for a book\" [value]=\"query\" (keyup)=\"search.emit($event.target.value)\"></md-input>\n        <md-spinner [class.show]=\"searching\"></md-spinner>\n      </md-card-content>\n    </md-card>\n  `,\n  styles: [`\n    md-card-title,\n    md-card-content {\n      display: flex;\n      justify-content: center;\n    }\n\n    md-input {\n      width: 300px;\n    }\n\n    md-card-spinner {\n      padding-left: 60px; // Make room for the spinner\n    }\n\n    md-spinner {\n      width: 30px;\n      height: 30px;\n      position: relative;\n      top: 10px;\n      left: 10px;\n      opacity: 0.0;\n    }\n\n    md-spinner.show {\n      opacity: 1.0;\n    }\n  `]\n})\nexport class BookSearchComponent {\n  @Input() query: string = '';\n  @Input() searching = false;\n  @Output() search = new EventEmitter<string>();\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/book-search/book-search.component.ts","import { ModuleWithProviders } from '@angular/core';\nimport { Routes,\n         RouterModule } from '@angular/router';\n\nimport { BookExistsGuard } from './book-exists/book-exists.guard';\nimport { FindBookPage } from './find-book.page';\nimport { ViewBookPage } from './view-book.page';\nimport { CollectionPage } from './collection.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CollectionPage\n  },\n  {\n    path: 'book/find',\n    component: FindBookPage\n  },\n  {\n    path: 'book/:id',\n    canActivate: [ BookExistsGuard ],\n    component: ViewBookPage\n  }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forChild(routes);\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/books.routing.ts","import { Pipe } from '@angular/core';\n\n\n@Pipe({ name: 'bcEllipsis' })\nexport class EllipsisPipe {\n  transform(str: string) {\n    const withoutHtml = str.replace(/(<([^>]+)>)/ig, '');\n\n    if (str.length >= 250) {\n      return withoutHtml.slice(0, 250) + '...';\n    }\n\n    return withoutHtml;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/ellipsis/ellipsis.pipe.ts","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as fromRoot from '../core/store';\nimport * as collection from '../core/store/collection/collection.actions';\nimport { Book } from '../core/store/book/book.model';\n\n\n@Component({\n  selector: 'bc-selected-book-page',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <bc-book-detail\n      [book]=\"book$ | async\"\n      [inCollection]=\"isSelectedBookInCollection$ | async\"\n      (add)=\"addToCollection($event)\"\n      (remove)=\"removeFromCollection($event)\">\n    </bc-book-detail>\n  `\n})\nexport class SelectedBookPage {\n  book$: Observable<Book>;\n  isSelectedBookInCollection$: Observable<boolean>;\n\n  constructor(private store: Store<fromRoot.RootState>) {\n    this.book$ = store.let(fromRoot.getSelectedBook);\n    this.isSelectedBookInCollection$ = store.let(fromRoot.isSelectedBookInCollection);\n  }\n\n  addToCollection(book: Book) {\n    this.store.dispatch(new collection.AddBookAction(book));\n  }\n\n  removeFromCollection(book: Book) {\n    this.store.dispatch(new collection.RemoveBookAction(book));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/selected-book.page.ts","import 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/skip';\nimport 'rxjs/add/operator/takeUntil';\nimport { Injectable } from '@angular/core';\nimport { Effect, Actions } from '@ngrx/effects';\nimport { Action } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\nimport { empty } from 'rxjs/observable/empty';\nimport { of } from 'rxjs/observable/of';\n\nimport { GoogleBooksService } from './google-books.service';\nimport * as book from './book.actions';\n\n\n/**\n * Effects offer a way to isolate and easily test side-effects within your\n * application. StateUpdates is an observable of the latest state and\n * dispatched action. The `toPayload` helper function returns just\n * the payload of the currently dispatched action, useful in\n * instances where the current state is not necessary.\n *\n * If you are unfamiliar with the operators being used in these examples, please\n * check out the sources below:\n *\n * Official Docs: http://reactivex.io/rxjs/manual/overview.html#categories-of-operators\n * RxJS 5 Operators By Example: https://gist.github.com/btroncone/d6cf141d6f2c00dc6b35\n */\n\n@Injectable()\nexport class BookEffects {\n  constructor(private actions$: Actions, private googleBooks: GoogleBooksService) { }\n\n\n  @Effect()\n  search$: Observable<Action> = this.actions$\n    .ofType(book.ActionTypes.SEARCH)\n    .debounceTime(300)\n    .map<string>(action => action.payload)\n    .switchMap(query => {\n      if (query === '') {\n        return empty();\n      }\n\n      const nextSearch$ = this.actions$.ofType(book.ActionTypes.SEARCH).skip(1);\n\n      return this.googleBooks.searchBooks(query)\n        .takeUntil(nextSearch$)\n        .map(books => new book.SearchCompleteAction(books))\n        .catch(() => of(new book.SearchCompleteAction([])));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/core/store/book/book.effects.ts","import 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/toArray';\nimport { Injectable } from '@angular/core';\nimport { Action } from '@ngrx/store';\nimport { Effect, Actions } from '@ngrx/effects';\nimport { Database } from '@ngrx/db';\nimport { Observable } from 'rxjs/Observable';\nimport { defer } from 'rxjs/observable/defer';\nimport { of } from 'rxjs/observable/of';\n\nimport * as collection from './collection.actions';\nimport { Book } from '../book/book.model';\n\n\n@Injectable()\nexport class CollectionEffects {\n  constructor(private actions$: Actions, private db: Database) { }\n\n  /**\n   * This effect does not yield any actions back to the store. Set\n   * `dispatch` to false to hint to @ngrx/effects that it should\n   * ignore any elements of this effect stream.\n   * \n   * The `defer` observable accepts an observable factory function\n   * that is called when the observable is subscribed to.\n   * Wrapping the database open call in `defer` makes\n   * effect easier to test.\n   */\n  @Effect({ dispatch: false })\n  openDB$: Observable<any> = defer(() => {\n    return this.db.open('books_app');\n  });\n\n  /**\n   * This effect makes use of the `startWith` operator to trigger\n   * the effect immediately on startup.\n   */\n  @Effect()\n  loadCollection$: Observable<Action> = this.actions$\n    .ofType(collection.ActionTypes.LOAD)\n    .startWith(new collection.LoadAction())\n    .switchMap(() => this.db.query('books')\n        .toArray()\n        .map((books: Book[]) => new collection.LoadSuccessAction(books))\n        .catch(error => of(new collection.LoadFailAction(error)))\n    );\n\n  @Effect()\n  addBookToCollection$: Observable<Action> = this.actions$\n    .ofType(collection.ActionTypes.ADD_BOOK)\n    .map((action: collection.AddBookAction) => action.payload)\n    .mergeMap(book =>\n      this.db.insert('books', [ book ])\n        .map(() => new collection.AddBookSuccessAction(book))\n        .catch(() => of(new collection.AddBookFailAction(book)))\n    );\n\n\n  @Effect()\n  removeBookFromCollection$: Observable<Action> = this.actions$\n    .ofType(collection.ActionTypes.REMOVE_BOOK)\n    .map((action: collection.RemoveBookAction) => action.payload)\n    .mergeMap(book =>\n      this.db.executeWrite('books', 'delete', [ book.id ])\n        .map(() => new collection.RemoveBookSuccessAction(book))\n        .catch(() => of(new collection.RemoveBookFailAction(book)))\n    );\n}\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/core/store/collection/collection.effects.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skip_1 = require('../../operator/skip');\nObservable_1.Observable.prototype.skip = skip_1.skip;\n//# sourceMappingURL=skip.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/skip.js\n// module id = 1063\n// module chunks = 1","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar takeUntil_1 = require('../../operator/takeUntil');\nObservable_1.Observable.prototype.takeUntil = takeUntil_1.takeUntil;\n//# sourceMappingURL=takeUntil.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/takeUntil.js\n// module id = 1064\n// module chunks = 1","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar DeferObservable = (function (_super) {\n    __extends(DeferObservable, _super);\n    function DeferObservable(observableFactory) {\n        _super.call(this);\n        this.observableFactory = observableFactory;\n    }\n    /**\n     * Creates an Observable that, on subscribe, calls an Observable factory to\n     * make an Observable for each new Observer.\n     *\n     * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n     * is subscribed.\n     * </span>\n     *\n     * <img src=\"./img/defer.png\" width=\"100%\">\n     *\n     * `defer` allows you to create the Observable only when the Observer\n     * subscribes, and create a fresh Observable for each Observer. It waits until\n     * an Observer subscribes to it, and then it generates an Observable,\n     * typically with an Observable factory function. It does this afresh for each\n     * subscriber, so although each subscriber may think it is subscribing to the\n     * same Observable, in fact each subscriber gets its own individual\n     * Observable.\n     *\n     * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n     * var clicksOrInterval = Rx.Observable.defer(function () {\n     *   if (Math.random() > 0.5) {\n     *     return Rx.Observable.fromEvent(document, 'click');\n     *   } else {\n     *     return Rx.Observable.interval(1000);\n     *   }\n     * });\n     * clicksOrInterval.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     *\n     * @param {function(): Observable|Promise} observableFactory The Observable\n     * factory function to invoke for each Observer that subscribes to the output\n     * Observable. May also return a Promise, which will be converted on the fly\n     * to an Observable.\n     * @return {Observable} An Observable whose Observers' subscriptions trigger\n     * an invocation of the given Observable factory function.\n     * @static true\n     * @name defer\n     * @owner Observable\n     */\n    DeferObservable.create = function (observableFactory) {\n        return new DeferObservable(observableFactory);\n    };\n    DeferObservable.prototype._subscribe = function (subscriber) {\n        return new DeferSubscriber(subscriber, this.observableFactory);\n    };\n    return DeferObservable;\n}(Observable_1.Observable));\nexports.DeferObservable = DeferObservable;\nvar DeferSubscriber = (function (_super) {\n    __extends(DeferSubscriber, _super);\n    function DeferSubscriber(destination, factory) {\n        _super.call(this, destination);\n        this.factory = factory;\n        this.tryDefer();\n    }\n    DeferSubscriber.prototype.tryDefer = function () {\n        try {\n            this._callFactory();\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    DeferSubscriber.prototype._callFactory = function () {\n        var result = this.factory();\n        if (result) {\n            this.add(subscribeToResult_1.subscribeToResult(this, result));\n        }\n    };\n    return DeferSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=DeferObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/observable/DeferObservable.js\n// module id = 1065\n// module chunks = 1","\"use strict\";\nvar DeferObservable_1 = require('./DeferObservable');\nexports.defer = DeferObservable_1.DeferObservable.create;\n//# sourceMappingURL=defer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/observable/defer.js\n// module id = 1066\n// module chunks = 1","import { CommonModule } from '@angular/common';\nimport { MaterialModule } from '@angular/material';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { BookAuthorsComponent } from './book-authors/book-authors.component';\nimport { BookDetailComponent } from './book-detail/book-detail.component';\nimport { BookPreviewComponent } from './book-preview/book-preview.component';\nimport { BookPreviewListComponent } from './book-preview/book-preview-list.component';\nimport { BookSearchComponent } from './book-search/book-search.component';\nimport { AddCommasPipe } from './add-commas/add-commas.pipe';\nimport { EllipsisPipe } from './ellipsis/ellipsis.pipe';\n// import { NavigatorModule } from '../core/navigator/navigator.module';\nimport { GoogleBooksService } from '../core/store/book/google-books.service';\nimport { BookExistsGuard } from './book-exists/book-exists.guard';\nimport { CollectionPage } from './collection.page';\nimport { FindBookPage } from './find-book.page';\nimport { SelectedBookPage } from './selected-book.page';\nimport { ViewBookPage } from './view-book.page';\nimport { BookEffects } from '../core/store/book/book.effects';\nimport { CollectionEffects } from '../core/store/collection/collection.effects';\nimport { SharedModule } from '../shared/shared.module';\nimport { routing } from './books.routing';\n\nexport const COMPONENTS = [\n  BookAuthorsComponent,\n  BookDetailComponent,\n  BookPreviewComponent,\n  BookPreviewListComponent,\n  BookSearchComponent,\n  AddCommasPipe,\n  EllipsisPipe,\n  CollectionPage,\n  FindBookPage,\n  SelectedBookPage,\n  ViewBookPage\n];\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    routing,\n    CommonModule,\n    ReactiveFormsModule,\n    MaterialModule,\n    RouterModule,\n//    NavigatorModule,\n    EffectsModule.run(BookEffects),\n    EffectsModule.run(CollectionEffects),\n  ],\n  declarations: COMPONENTS,\n  exports: COMPONENTS,\n  providers: [\n    BookExistsGuard,\n    GoogleBooksService\n  ],\n})\nexport class BooksModule { }\n\n\n// WEBPACK FOOTER //\n// /Users/Dan/work/bernierebuttals/gba/~/angular2-template-loader!/Users/Dan/work/bernierebuttals/gba/src/app/books/books.module.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar take_1 = require('../../operator/take');\nObservable_1.Observable.prototype.take = take_1.take;\n//# sourceMappingURL=take.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dan/work/bernierebuttals/gba/~/rxjs/add/operator/take.js\n// module id = 999\n// module chunks = 0 1"],"sourceRoot":""}